!function(t){var e={};function r(n){if(e[n])return e[n].exports;var i=e[n]={i:n,l:!1,exports:{}};return t[n].call(i.exports,i,i.exports,r),i.l=!0,i.exports}r.m=t,r.c=e,r.d=function(t,e,n){r.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:n})},r.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},r.t=function(t,e){if(1&e&&(t=r(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(r.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var i in t)r.d(n,i,function(e){return t[e]}.bind(null,i));return n},r.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return r.d(e,"a",e),e},r.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},r.p="",r(r.s=14)}([function(t,e,r){"use strict";r.r(e),r.d(e,"_isString",(function(){return s})),r.d(e,"_isNumber",(function(){return a})),r.d(e,"_isNumeric",(function(){return o})),r.d(e,"_isArray",(function(){return c})),r.d(e,"_isTypeArray",(function(){return l})),r.d(e,"_isObject",(function(){return u})),r.d(e,"_isTypeObject",(function(){return h})),r.d(e,"_isFunction",(function(){return p})),r.d(e,"_isTypeFunction",(function(){return f})),r.d(e,"_isClass",(function(){return d})),r.d(e,"_isUndefined",(function(){return b})),r.d(e,"_isBoolean",(function(){return m})),r.d(e,"_isNull",(function(){return g})),r.d(e,"_isEmpty",(function(){return v})),r.d(e,"_getType",(function(){return O})),r.d(e,"_isObservable",(function(){return _})),r.d(e,"_isProxy",(function(){return y})),r.d(e,"_getProxyTarget",(function(){return w})),r.d(e,"_getProxyTrap",(function(){return x})),r.d(e,"_proxy",(function(){return j})),r.d(e,"_mixin",(function(){return $})),r.d(e,"_instanceof",(function(){return C}));var n=r(1),i=r(2);const s=function(t){return"string"==typeof t},a=function(t){return"number"==typeof t},o=function(t){return!0!==t&&!1!==t&&null!==t&&""!==t&&!isNaN(1*t)},c=function(t){return Array.isArray(t)},l=function(t){return!s(t)&&!b(t.length)},u=function(t){return!Array.isArray(t)&&"object"==typeof t&&t},h=function(t){return Array.isArray(t)||"object"==typeof t},p=function(t){return f(t)||t&&"[object function]"==={}.toString.call(t)},f=function(t){return"function"==typeof t},d=function(t){return f(t)&&/^class\s/.test(Function.prototype.toString.call(t))},b=function(t){return arguments.length&&(void 0===t||void 0===t)},m=function(t){return!0===t||!1===t},g=function(t){return null===t||""===t},v=function(t){return g(t)||b(t)||!1===t||0===t||h(t)&&!Object.keys(t).length},O=function(t){return typeof t},_=function(t){return u(t)&&Object(n._all)(["observe","unobserve","setOffsetParent","getOffsetParent"],e=>p(t[e]))},j=function(t,e){var r={get:(t,r)=>"__proxyTargetByCommons"===r?t:"__proxyTrapByCommons"===r?e:e.get?e.get(t,r):t[r]};return new Proxy(t,Object(i._merge)({},e,r))},y=function(t){return u(t)&&t.__proxyTargetByCommons||!1},w=function(t){return y(t)?t.__proxyTargetByCommons:void 0},x=function(t){return y(t)?t.__proxyTrapByCommons:void 0},$=function(...t){var e={};c(arguments[0])&&(t=arguments[0],e=arguments[1],arguments[2]&&arguments[2]);var r=Object(n._last)(t),s={},a=class extends r{constructor(...t){super(...t)}};return a.prototypes=t,t.forEach(t=>{Object(i._mergeCallback)([a,t],(t,e,r)=>-1===["name","prototype","prototypes","length"].indexOf(t)),Object(i._mergeCallback)([a.prototype,t.prototype],(t,e,r)=>-1===["prototype","prototypes"].indexOf(t)&&(!p(r[t])||(c(s[t])?s[t].push(r[t]):s[t]=[r[t]],!1)),!0)}),Object(i._each)(s,(t,r)=>{"constructor"!==t&&(a.prototype[t]=function(...i){if(Object.hasOwnProperty(e,t)&&p(e[t]))return e[t].call(this,r,...i);var s=[];return r.forEach(t=>{s.push(t.call(this,...i))}),Object(n._last)(s)})}),a},C=function(t,e){if(!t)return!1;if(t instanceof e)return!0;var r=t=>{for(;t&&t!==Function.prototype;){if(t===e||t.prototypes&&t.prototypes.reduce((t,n)=>t||n===e||r(n),!1))return!0;t=Object.getPrototypeOf(t)}return!1};return r(t.constructor)}},function(t,e,r){"use strict";r.r(e),r.d(e,"_from",(function(){return a})),r.d(e,"_first",(function(){return o})),r.d(e,"_last",(function(){return c})),r.d(e,"_avg",(function(){return l})),r.d(e,"_max",(function(){return u})),r.d(e,"_min",(function(){return h})),r.d(e,"_rand",(function(){return p})),r.d(e,"_sum",(function(){return f})),r.d(e,"_slice",(function(){return d})),r.d(e,"_preceding",(function(){return b})),r.d(e,"_following",(function(){return m})),r.d(e,"_precedingLast",(function(){return g})),r.d(e,"_followingLast",(function(){return v})),r.d(e,"_between",(function(){return O})),r.d(e,"_intersect",(function(){return _})),r.d(e,"_difference",(function(){return j})),r.d(e,"_filter",(function(){return y})),r.d(e,"_divide",(function(){return w})),r.d(e,"_flatten",(function(){return x})),r.d(e,"_sort",(function(){return $})),r.d(e,"_unique",(function(){return C})),r.d(e,"_pushUnique",(function(){return k})),r.d(e,"_concatUnique",(function(){return E})),r.d(e,"_remove",(function(){return A})),r.d(e,"_exclude",(function(){return S})),r.d(e,"_replace",(function(){return T})),r.d(e,"_concatBefore",(function(){return P})),r.d(e,"_concatAfter",(function(){return N})),r.d(e,"_concatBeforeLast",(function(){return M})),r.d(e,"_concatAfterLast",(function(){return F})),r.d(e,"_all",(function(){return R})),r.d(e,"_any",(function(){return L})),r.d(e,"_inSequence",(function(){return H}));var n=r(0),s=r(2);const a=function(t){return Object(n._isArray)(t)?t:!1!==t&&0!==t&&Object(n._isEmpty)(t)?[]:Object(n._isTypeArray)(t)?Array.prototype.slice.call(t):Object(n._isObject)(t)?Object.values(t):[t]},o=function(t,e=1){var r=0;t.forEach(t=>{r++});var n=t.slice(t.length-r,e);return arguments.length>1?n:n[0]},c=function(t,e=1){return arguments.length>1?o(t.slice().reverse(),e).reverse():o(t.slice().reverse())},l=function(t){return t.length?f(t)/t.length:0},u=function(t){return(t=t.slice()).reduce((t,e)=>Math.max(t,e),t.shift())},h=function(t){return(t=t.slice()).reduce((t,e)=>Math.min(t,e),t.shift())},p=function(t,e=1){for(var r=[],n=null;r.length<e&&(n=t[Math.floor(Math.random()*t.length)])&&-1===r.indexOf(n);)r.push(n);return arguments.length>1?r:r[0]},f=function(t){return(t=t.slice()).reduce((t,e)=>t+e,t.shift())},d=function(t,e=0,r=null){return arguments.length>1&&(e=e<0?t.length+e:e,arguments.length>2&&(r=r<0?t.length+r-e:r)),t.slice(e,r)},b=function(t,e,r=!1,i=!1,s=!1){if(-1===t.indexOf(e))return r?[]:void 0;var a=!0===r?t.length-1:!1===r?1:r,o=(t=t.slice().reverse(),s?t.lastIndexOf(e)+1:t.indexOf(e)+1),c=Object(n._isUndefined)(e)?[]:t.slice(o,o+a);return i&&c.length<a&&c.length<t.length&&(c=c.concat(t.slice(0,a-c.length))),r?c:c[0]},m=function(t,e,r=!1,i=!1,s=!1){if(-1===t.indexOf(e))return r?[]:void 0;var a=!0===r?t.length-1:!1===r?1:r,o=s?t.lastIndexOf(e)+1:t.indexOf(e)+1,c=Object(n._isUndefined)(e)?[]:t.slice(o,o+a);return i&&c.length<a&&c.length<t.length&&(c=c.concat(t.slice(0,a-c.length))),r?c:c[0]},g=function(t,e,r=!1,n=!1){return b(t,e,r,n,!0)},v=function(t,e,r=!1,n=!1){return m(t,e,r,n,!0)},O=function(t,e,r,n=!1,i=!1,s=!1){var a=s?t.lastIndexOf(e):t.indexOf(e),o=s?t.lastIndexOf(r):t.indexOf(r);if(n){var c=o>a?a+t.length-o:a-o;return b(t,e,c,i,s)}c=o<a?t.length-a-1+o+1:o-a;return m(t,e,c,i,s)},_=function(t,e,r=null){return Object(n._isArray)(e)?t.filter(t=>r?e.filter(e=>r(t,e)).length:-1!==e.indexOf(t)):[]},j=function(t,e,r=null){return Object(n._isArray)(e)?t.filter(t=>r?e.filter(e=>r(t,e)).length:-1===e.indexOf(t)):[]},y=function(t,e){return w(t,e)[0]},w=function(t,e){var r=[],n=[],s=t.length;for(i=0;i<s;i++)e(t[i])?r.push(t[i]):n.push(t[i]);return[r,n]},x=function(t,e=1,r=!0){return!Object(n._isNumeric)(e)||e<=0?t:(!Object(n._isArray)(t)&&Object(n._isObject)(t)&&r&&(t=Object.values(t)),Object(n._isArray)(t)?t.reduce((t,i)=>Object(n._isArray)(i)||Object(n._isObject)(i)&&r?t.concat(x(Object(n._isArray)(i)?i:Object.values(i),e-1,r)):t.concat(i),[]):t)},$=function(t,e,r=null){for(var i=[],s=t.length,a=0;a<s;a++)i.push({index:a,value:r?r(t[a]):t[a]});return i.sort((function(t,e){return Object(n._isString)(t.value)&&"".localeCompare?t.value.localeCompare(e.value):t.value===e.value?0:t.value>e.value?1:-1})),"desc"===(e||"").trim().toLowerCase()&&(i=i.reverse()),i.map(e=>t[e.index])},C=function(t){return t.filter((t,e,r)=>r.indexOf(t)===e)},k=function(t,...e){return e.forEach(e=>{t.indexOf(e)<0&&t.push(e)}),t},E=function(t,...e){return e.forEach(e=>{e.forEach(r=>k(t,...a(e)))}),t},A=function(t,e,r=!1){for(var n=t.indexOf(e);n>-1&&(r||!1===r);)t.splice(n,1),r>0&&r--,n=t.indexOf(e);return t},S=function(t,...e){return e.forEach(e=>A(t,e)),t},T=function(t,e,r=[]){return 2===arguments.length?(e.forEach((e,r)=>{t[r]=e}),t):(Object(s._each)(e,(e,n)=>{var i=t.indexOf(n);-1!==i&&(t[i]=r[e])}),t)},P=function(t,e,r,n=!1){var i=t.splice(n?t.lastIndexOf(e):t.indexOf(e));return r.concat(i).forEach((function(e){t.push(e)})),t},N=function(t,e,r,n=!1){var i=t.splice(n?t.lastIndexOf(e)+1:t.indexOf(e)+1);return r.concat(i).forEach((function(e){t.push(e)})),t},M=function(t,e,r){return P(t,e,r,!0)},F=function(t,e,r){return N(t,r,e,!0)},R=function(t,e){return t.reduce((t,r)=>t&&e(r),!0)},L=function(t,e){return t.reduce((t,r)=>t||e(r),!1)},H=function(t,e,r){if(Object(n._isArray)(t)){if(Object(n._isObject)(r))var i=r.sync||!1,s=r.delay||0,a=r.delayAlways||!1;else i=!(!Object(n._isBoolean)(r)&&"last"!==r)&&r,s=Object(n._isNumber)(r)?r:0,a=!1;var o=t;return new Promise((function(t,r){if(o.length){var n=function(r){var c=()=>{a?s?setTimeout(()=>{o.length>r+1?n(r+1):t()},s):o.length>r+1?n(r+1):t():o.length>r+1?s?setTimeout(()=>{n(r+1)},s):n(r+1):t()},l=e(o[r]);l instanceof Promise&&(!0===i||"last"===i&&r===o.length-1)?(l.then(c),l.catch(c)):c()};n(0)}else t()}))}}},function(t,e,r){"use strict";r.r(e),r.d(e,"_from",(function(){return s})),r.d(e,"_with",(function(){return a})),r.d(e,"_each",(function(){return o})),r.d(e,"_get",(function(){return c})),r.d(e,"_set",(function(){return l})),r.d(e,"_unset",(function(){return u})),r.d(e,"_isset",(function(){return h})),r.d(e,"_first",(function(){return p})),r.d(e,"_last",(function(){return f})),r.d(e,"_sample",(function(){return d})),r.d(e,"_find",(function(){return b})),r.d(e,"_getAllPropertyNames",(function(){return m})),r.d(e,"_getPrototypeChain",(function(){return g})),r.d(e,"_copyPlain",(function(){return v})),r.d(e,"_copy",(function(){return O})),r.d(e,"_merge",(function(){return _})),r.d(e,"_inherit",(function(){return j})),r.d(e,"_replace",(function(){return y})),r.d(e,"_even",(function(){return w})),r.d(e,"_match",(function(){return x})),r.d(e,"_diff",(function(){return $})),r.d(e,"_percentageMatch",(function(){return C})),r.d(e,"_percentageDiff",(function(){return k})),r.d(e,"_mergeCallback",(function(){return E})),r.d(e,"_compareCallback",(function(){return A}));var n=r(0),i=r(1);const s=function(t,e=null){var r={};return 2===arguments.length&&(Object(n._isString)(t)?r[t]=e:Object(n._isArray)(t)&&Object(n._isArray)(e)&&t.forEach((t,n)=>r[t]=e[n])),r},a=function(t,e,r=null){return _(t,Object(n._isObject)(e)?e:s(e,r))},o=function(t,e){var r=void 0;return Object(n._isTypeObject)(t)&&Object.keys(t).forEach(i=>{!1!==r&&(r=e(Object(n._isNumeric)(i)?parseFloat(i):i,t[i]))}),r},c=function(t,e,r={},s=!0){e=Object(i._from)(e).slice();for(var a=t;!Object(n._isUndefined)(a)&&!Object(n._isNull)(a)&&e.length;){var o=e.shift(),c=s&&Object(n._isObservable)(a);if(!(c?a.has(o):o in a))return void(r.exists=!1);a=c?a.get(o):a[o]}return r.exists=!0,a},l=function(t,e,r,s={}){e=Object(i._from)(e);for(var a=t,o=0;o<e.length;o++){if(!(o<e.length-1))return a[e[o]]=r,!0;if(!Object(n._isTypeObject)(a)&&!Object(n._isFunction)(a))return!1;if(!Object(n._isTypeObject)(a[e[o]])){if(!s)return!1;a[e[o]]=Object(n._isFunction)(s)?s(o):s}a=a[e[o]]}},u=function(t,e,r=!1){e=Object(i._from)(e);var s=!1;do{var a=""===(a=e.pop())?0:a,o=t;e.length&&(o=c(t,e)),(Object(n._isTypeObject)(o)||Object(n._isFunction)(o))&&a in o&&(delete o[a],s=!0)}while(s&&r&&e.length&&(Object(n._isTypeObject)(o)||Object(n._isFunction)(o))&&!Object.keys(o).length);return s},h=function(t,e){var r={};return c(t,e,r),r.exists},p=function(t){return Object(n._isArray)(t)?Object(i._first)(t):t[Object.keys(t)[0]]},f=function(t){return Object(n._isArray)(t)?Object(i._last)(t):t[Object(i._last)(Object.keys(t))]},d=function(t,e=1){return Object(n._isArray)(t)?Object(i._rand)(t):O(t,Object(i._rand)(Object.keys(t),e))},b=function(t,e,r=!1){var s=null,a=t;Object(n._isArray)(t)||(s=Object.keys(t),a=Object.values(t));var o=void 0,c=a.reduce((t,i)=>{if(void 0===o){if(e(i,t))return i;if(r&&(Object(n._isTypeObject)(i)||Object(n._isFunction)(i))&&void 0!==(o=b(i,e,r)))return i}return t},void 0);if(void 0!==c){var l=s?s[a.indexOf(c)]:a.indexOf(c);return void 0!==o?[l].concat(Object(i._from)(o)):l}},m=function(t,e){var r=[];return g(t,e).forEach(t=>{Object(i._pushUnique)(r,...Object.getOwnPropertyNames(t))}),r},g=function(t,e){e=(e=e||Object.prototype)&&!Object(n._isArray)(e)?[e]:e;var r=[];for(t=t;t&&(!e||e.indexOf(t)<0)&&"default"!==t.name;)r.push(t),t=t?Object.getPrototypeOf(t):null;return r},v=function(t,e=[]){return E([{},t],(t,r,i)=>{if(!Object(n._isFunction)(i[t]))return Object(n._isFunction)(e)?e(t):!Object(n._isArray)(e)||!e.length||e.indexOf(t)>-1},!1,!1,!1)},O=function(t,e=[]){var r=0;return Object(n._isNumeric)(arguments[0])&&Object(n._isTypeObject)(arguments[1])&&(r=arguments[0],t=arguments[1],e=arguments[2]||[]),E([r,{},t],(t,r,i)=>Object(n._isFunction)(e)?e(t):!Object(n._isArray)(e)||!e.length||e.indexOf(t)>-1,!1,!1,!1)},_=function(...t){return E(t,(t,e,r)=>!0)},j=function(...t){return E(t,(t,e,r)=>{if(Object(n._isArray)(e)&&Object(n._isArray)(r)){if(-1===e.indexOf(r[t]))return!0}else if(!(t in e))return!0})},y=function(...t){var e=0===Object.keys(t[0]).length;return E(t,(t,r,n,i)=>{if(t in r||e&&0===i)return!0},!1,!0)},w=function(t,e,r=!0,i=1){if(Object(n._isArray)(t)&&Object(n._isArray)(e)&&t.length!==e.length||Object(n._isObject)(t)&&Object(n._isObject)(e)&&Object.keys(t).length!==Object.keys(e).length)return!1;var s=A(t,e,(t,e)=>i>0&&(Object(n._isArray)(t)&&Object(n._isArray)(e)||Object(n._isObject)(t)&&Object(n._isObject)(e))?w(t,e,r,i-1):Object(n._isFunction)(r)?r(t,e):t===e===r,!1,!1,!0);return Object(n._isArray)(s)?s.length===t.length:Object(n._isObject)(s)?Object.keys(s).length===Object.keys(t).length:s},x=function(t,e,r=!0,i=!0){return A(t,e,(t,e)=>Object(n._isArray)(t)&&Object(n._isArray)(e)||Object(n._isObject)(t)&&Object(n._isObject)(e)?x(t,e,r,i):Object(n._isFunction)(r)?r(t,e):t===e===r,i)},$=function(t,e,r=!0,i=!0){return A(t,e,(t,e)=>Object(n._isArray)(t)&&Object(n._isArray)(e)||Object(n._isObject)(t)&&Object(n._isObject)(e)?$(t,e,r,i):Object(n._isFunction)(r)?r(t,e):t===e===r,i,!0)},C=function(t,e,r=!0){var i=A(t,e,(t,e)=>Object(n._isArray)(t)&&Object(n._isArray)(e)||Object(n._isObject)(t)&&Object(n._isObject)(e)?C(t,e,r):(Object(n._isFunction)(r)?r(t,e):t===e===r)?1:0,!1,!1,!0),s=Object(n._isObject)(i)?Object.values(i):i;return s.reduce((t,e)=>t+e,0)/s.length},k=function(t,e,r=!1){return 1-C(t,e,r)},E=function(t,e,r=!1,i=!1,s=!1){var a=0,o=t.shift();if((Object(n._isNumeric)(o)||!0===o||!1===o)&&(a=o,o=t.shift()),!t.length)throw new Error("_merge() requires two or more array/objects.");return t.forEach((t,c)=>{(Object(n._isTypeObject)(t)||Object(n._isFunction)(t))&&(r?m(t):Object.getOwnPropertyNames(t)).forEach(l=>{var u=o[l],h=t[l];(Object(n._isArray)(u)&&Object(n._isArray)(h)||Object(n._isObject)(u)&&Object(n._isObject)(h))&&(!0===a||a>0)?(o[l]=Object(n._isArray)(u)&&Object(n._isArray)(h)?[]:{},E([Object(n._isNumeric)(a)?a-1:a,o[l],u,h],e,r,i)):e(l,o,t,c)&&(Object(n._isArray)(o)&&Object(n._isArray)(t)?i?o[l]=h:o.push(h):s?Object.defineProperty(o,l,Object.getOwnPropertyDescriptor(t,l)):o[l]=t[l])})}),o},A=function(t,e,r=!0,i=!0,s=!1,a=!1){if(Object(n._isArray)(t)&&Object(n._isArray)(e)){var c=[],l=!0;return t.forEach(t=>{if(l){var u=!1;o(e,(e,s)=>{(!u||i&&Object(n._isTypeObject)(t))&&(u=r(t,s),(Object(n._isArray)(u)&&!u.length||Object(n._isObject)(u)&&!Object.keys(u).length)&&(u=!1),Object(n._isTypeObject)(u)&&i&&(t=u))}),Object(n._isTypeObject)(u)?c.push(i?u:t):Object(n._isBoolean)(u)?s&&!u||!s&&u?c.push(t):a&&(l=!1):c.push(u)}}),c}if(Object(n._isObject)(t)&&Object(n._isObject)(e)){c={},l=!0;return Object.keys(t).forEach(o=>{if(l){var u=r(t[o],e[o]);(Object(n._isArray)(u)&&!u.length||Object(n._isObject)(u)&&!Object.keys(u).length)&&(u=!1),Object(n._isTypeObject)(u)?c[o]=i?u:t[o]:Object(n._isBoolean)(u)?s&&!u||!s&&u?c[o]=t[o]:a&&(l=!1):c[o]=u}}),c}}},function(t,e,r){"use strict";r.r(e),r.d(e,"_wrapped",(function(){return n})),r.d(e,"_unwrap",(function(){return i})),r.d(e,"_before",(function(){return s})),r.d(e,"_beforeLast",(function(){return a})),r.d(e,"_after",(function(){return o})),r.d(e,"_afterLast",(function(){return c})),r.d(e,"_toTitle",(function(){return l})),r.d(e,"_toCamel",(function(){return u})),r.d(e,"_fromCamel",(function(){return h})),r.d(e,"_matches",(function(){return p}));const n=function(t,e,r){return t.startsWith(e)&&t.endsWith(r)},i=function(t,e,r){return a(o(t,e),r)},s=function(t,e,r=!1){if(""==e)return t;var n=r?t.lastIndexOf(e):t.indexOf(e);return-1===n?t:t.substr(0,n)},a=function(t,e){return s(t,e,!0)},o=function(t,e,r=!1){if(""==e)return t;var n=r?t.lastIndexOf(e):t.indexOf(e);return-1===n?"":t.substr(n+e.length)},c=function(t,e){return o(t,e,!0)},l=function(t,e){return"string"!=typeof t?t:t.replace(/\w\S*/g,(function(t){return t.charAt(0).toUpperCase()+(void 0!==typeof e&&e?t.substr(1).toLowerCase():t.substr(1))}))},u=function(t,e){return t=l(t.replace(/-/g," ")).replace(/ /g,""),e?t:t[0].toLowerCase()+t.substr(1)},h=function(t,e){return void 0===t?"":t.split(/(?=[A-Z])/).join(e||" ")},p=function(t,e){return lllll}},function(t,e,r){"use strict";var n={};r.r(n),r.d(n,"Arr",(function(){return qt})),r.d(n,"Js",(function(){return Dt})),r.d(n,"Num",(function(){return Ut})),r.d(n,"Obj",(function(){return Wt})),r.d(n,"Str",(function(){return Bt})),r.d(n,"standardize",(function(){return Lt}));var i=r(1),s=r(0),a=r(2),o=class{even(t){return!(!Object(s._isObject)(t)||t.jsenType!==this.jsenType)&&Object(a._even)(t,this)}inherit(t){return this}withComments(t){return this.meta||(this.meta={}),this.meta.comments=t,this}withVars(t){return this.meta||(this.meta={}),this.meta.vars=t,this}};const c=class extends o{};Object.defineProperty(c.prototype,"jsenType",{get:()=>"AssignmentExpression"});var l=c;const u=class extends o{};Object.defineProperty(u.prototype,"jsenType",{get:()=>"Reference"});var h=u;const p=class extends o{};Object.defineProperty(p.prototype,"jsenType",{get:()=>"DeleteExpression"});var f=p;const d=class extends o{};Object.defineProperty(d.prototype,"jsenType",{get:()=>"CallExpression"});var b=d;const m=class{static parse(t,e,r={},n=m){if(r.meta||(r.meta={vars:[]}),t.length){for(var a=Object.values(e||n.grammars),o=0;o<a.length;o++){var c=r.meta&&Object(s._isArray)(r.meta.vars)?r.meta.vars.length:0,u=a[o].parse(t,(t,e)=>m.parse(t,e,r,n));if(u&&r.meta&&(u.meta||(u.meta={}),u.meta.vars=r.meta.vars.slice(c),(Object(s._instanceof)(u,h)||Object(s._instanceof)(u,b))&&(Object(i._remove)(u.meta.vars,u.context),Object(i._remove)(r.meta.vars,u.context),r.meta.vars.push(u))),u&&r.explain&&console.log(t," >>-------------\x3e> ",u.jsenType),(u instanceof l||u instanceof f)&&(!r||!r.mutates))throw new Error("[Permission error:] "+t);if(u)return u}if(!1===r.assert)return;throw new Error("[Syntax error:] "+t)}}};var g=m;const v=class{static lex(t,e,r){if(!Object(s._isString)(t))throw new Error("Argument1 must be a string!");var n=new v(t,r);return v.$cache[t]=v.$cache[t]||[],v.$cache[t].push(n),n.lex(e)}static split(t,e,r){return v.lex(t,e,r).tokens}static match(t,e,r){return v.lex(t,e,r).matches}constructor(t,e){if(!Object(s._isString)(t))throw new Error("Lexer requires the first argument to be a string.");this.$str=t,this.$options=e||{},this.$options.blocks||(this.$options.blocks=v.$blocks),this.$options.quotes||(this.$options.quotes=v.$quotes),this.$options.comments||(this.$options.comments=v.$comments),this.$cache=[]}lex(t,e){var r={delims:Object(i._from)(t),options:Object(a._merge)(!0,{},this.$options,e||{}),nesting:[],maxDepth:0,comments:[],tokens:[],matches:[],matchesi:{}};if(!1!==r.options.cache)for(var n=0;n<this.$cache.length;n++)if(Object(a._even)(this.$cache[n].delims,r.delims)&&Object(a._even)(this.$cache[n].options,r.options))return Object(a._copyPlain)(this.$cache[n]);if(this._evalCharsAt(r,0),r.nesting.length)throw new Error("Error parsing the string: "+this.$str+". Unterminated blocks: "+Object(i._flatten)(r.nesting).join(", "));return!1!==r.options.cache&&this.$cache.push(r),r}_evalCharsAt(t,e){if(!(e>=this.$str.length)){var r=1,n={},i={},s={};if(t.openComment||(i=this._testQuotes(t,e)),t.openQuote||(n=this._testComments(t,e)),t.openComment||n.ending)if(t.nesting.length||s.ending)this._push(t,this.$str[e]);else r=(o=n.starting||n.ending||this.$str[e]).length,this._push(t,o,"comments"),t.options.preserveComments&&this._push(t,o);else if(t.openQuote||i.ending)this._push(t,this.$str[e]);else{if(t.options.limit&&t.matches.length===t.options.limit)return this._push(t,this.$str[e]),this._evalCharsAt(t,e+1);s=this._testNesting(t,e);s=this._testNesting(t,e);var a=this._testChars(t.options.stopChars||[],t,e);if(!t.nesting.length&&!1!==a)return t.options.stopChar=a,void(t.options.stopCharForward=this.$str.substr(e));if(t.delims.length)if(t.nesting.length||s.ending){var o;r=(o=s.starting||s.ending||this.$str[e]).length,this._push(t,o)}else{this._push(t,"");var c=this._testChars(t.delims,t,e);if(!1!==c&&(t.matches.push(c),t.matchesi[e]=c,r=c.length||1,!t.options.preserveDelims))return this._evalCharsAt(t,e+(c.length||1));this._push(t,c||this.$str[e])}else 2===t.nesting.length&&s.starting?(t.matches.push(null),this._push(t,s.starting),r=s.starting.length):!t.nesting.length&&s.ending?(this._push(t,s.ending),r=s.ending.length,t.matches.push(null)):this._push(t,this.$str[e])}return this._evalCharsAt(t,e+r)}}_testQuotes(t,e){var r={};return(t.options.quotes||[]).forEach(n=>{this.$str.substr(e,1)===n&&(t.openQuote?n===t.openQuote&&(t.openQuote=!1,r.ending=n):(t.openQuote=n,r.starting=n))}),r}_testComments(t,e){var r={};return(t.options.comments||[]).forEach(n=>{if(t.openComment){if(Object(i._last)(n)===Object(i._last)(t.openComment)){var s;(s=this.$str.substr(e).match(new RegExp("^"+Object(i._last)(n))))&&(t.openComment=!1,r.ending=s[0])}}else(s=this.$str.substr(e).match(new RegExp("^"+Object(i._first)(n))))&&(t.openComment=n,r.starting=s[0])}),r}_testNesting(t,e){var r={};return(t.options.blocks||[]).forEach(n=>{var s=this.$str.substr(e).match(new RegExp("^"+Object(i._first)(n)));if(s)t.nesting=t.nesting.concat([n]),r.starting=s[0];else if(t.nesting.length&&Object(i._last)(n)===Object(i._last)(Object(i._last)(t.nesting))){var a=this.$str.substr(e).match(new RegExp("^"+Object(i._last)(n)));a&&(t.nesting=t.nesting.slice(0,-1),r.ending=a[0])}}),t.maxDepth=Math.max(t.maxDepth,t.nesting.length),r}_testChars(t,e,r){for(var n=0;n<t.length;n++){var i=t[n];if(e.options.useRegex){var s=this.$str.substr(r).match(new RegExp("^"+i,!0!==e.options.useRegex?e.options.useRegex:""));if(s)return s[0]}if(!e.options.ci&&this.$str.substr(r,i.length)===i||e.options.ci&&this.$str.substr(r,i.length).toLowerCase()===i.toLowerCase())return i}return!1}_push(t,e,r="tokens"){var n=t.matches.length;Object(s._isUndefined)(t[r][n])&&(t[r][n]=""),t[r][n]+=e}split(t,e,r){return this.lex(e,r).tokens}match(t,e,r){return this.lex(e,r).matches}regParse(t,e){return this.lex(t,Object(a._merge)({useRegex:!0},e||{}))}regSplit(t,e){return this.regParse(t,e).tokens}regMatch(t,e){return this.regParse(t,e).matches}};v.$blocks=[["\\(","\\)"],["\\[","\\]"],["\\{","\\}"]],v.$quotes=['"',"'","`"],v.$comments=[["\\/\\*","\\*\\/"],["\\/\\/","(\\r)?\\n"]],v.$cache={};var O=v,_=class extends Array{},j=r(3);const y=class extends o{};Object.defineProperty(y.prototype,"jsenType",{get:()=>"Abstraction"});var w=y;const x=class extends w{constructor(t){super(),this.expr=t}eval(t=null,e=null){return this.expr.eval(t,e)}toString(t=null){return"("+this.expr.toString(t)+")"}static parse(t,e,r=x){if(Object(j._wrapped)(t,"(",")")&&!O.match(t,[" "]).length)return new r(e(Object(j._unwrap)(t,"(",")")))}};var $=x;const C=class extends o{};Object.defineProperty(C.prototype,"jsenType",{get:()=>"ArrayType"});var k=C;const E=class extends k{constructor(t){super(),this.exprs=t||[]}inherit(t){if(t instanceof k){var e=t.exprs.filter(t=>this.exprs.reduce((e,r)=>e&&!t.even(r),!0));this.exprs=e.concat(this.exprs)}return this}eval(t=null,e=null){return this.exprs.map(r=>r.eval(t,e))}toString(t=null){return"["+this.exprs.map(e=>e.toString(t)).join(", ")+"]"}static parse(t,e,r=E){if(Object(j._wrapped)(t,"[","]")&&!O.match(t.trim(),[" "]).length)return new r(O.split(Object(j._unwrap)(t,"[","]"),[","]).map(t=>t.trim()).filter(t=>t).map(t=>e(t)))}};var A=E;const S=class extends o{};Object.defineProperty(S.prototype,"jsenType",{get:()=>"Arguments"});var T=S;const P=class extends T{constructor(t=[]){super(),this.list=t}eval(t=null,e=null){return this.list.map(r=>r.eval(t,e))}toString(t=null){return"("+this.list.map(e=>e.toString(t)).join(", ")+")"}static parse(t,e,r=P){if(t=t.trim(),Object(j._wrapped)(t,"(",")")&&!O.match(t,[" "]).length)return new r(O.split(Object(j._unwrap)(t,"(",")"),[","]).map(t=>e(t.trim())))}};var N=P;const M=class extends o{};Object.defineProperty(M.prototype,"jsenType",{get:()=>"AssertionExpression"});var F=M;const R=class extends F{constructor(t,e){super(),this.exprs=t,this.logic=e}eval(t=null,e=null){if("!"===this.logic)return!Object(i._first)(this.exprs).eval(t,e);Object(i._flatten)(R.operators);for(var r=(this.logic||"").trim().toUpperCase(),n=r===(R.operators.or||"").trim().toUpperCase(),s=r===(R.operators.nor||"").trim().toUpperCase(),a=r===(R.operators.and||"").trim().toUpperCase(),o=r===(R.operators.nand||"").trim().toUpperCase(),c=!0,l=0,u=0;u<this.exprs.length;u++){if(a&&!c)return!1;if(o&&!c)return!0;if(c=this.exprs[u].eval(t,e),n&&c)return c;l+=c?1:0}return n?c:a||o?a:s&&0===l}toString(t=null){return"!"===this.logic?"!"+Object(i._first)(this.exprs).toString(t):this.exprs.map(e=>e.toString(t)).join(" "+this.logic+" ")}static parse(t,e,r=R){if(t.startsWith("!"))return new r([e(t.substr(1))],"!");var n=O.lex(t,Object(i._flatten)(r.operators));if(n.tokens.length>1){var s=Object(i._unique)(n.matches);if(s.length>1)throw new Error('"AND" and "OR" logic cannot be asserted in the same expression: '+t+"!");return new r(n.tokens.map(t=>e(t.trim())),Object(i._first)(s))}}};R.operators={and:"&&",or:"||"};var L=R;const H=class extends l{constructor(t,e,r="="){super(),this.reference=t,this.val=e,this.operator=r}eval(t=null,e=null){var r=this.reference.getEval(t,e),n=this.val.eval(t,e);return!Object(s._isUndefined)(r.context)&&!Object(s._isUndefined)(r.name)&&(Object(s._isFunction)(e)?e(this,r.context,r.name,n):((r.context instanceof _?Object(i._last)(r.context):r.context)[r.name]=n,!0))}toString(t=null){return[this.reference.toString(t),this.operator,this.val.toString(t)].join(" ")}static parse(t,e,r=H){var n=O.lex(t,r.operators);if(2===n.tokens.length){var i,s;if(!((i=e(n.tokens.shift().trim()))instanceof h&&(s=e(n.tokens.shift().trim()))))throw new Error("Invalid assignment directive: "+t);return new r(i,s,n.matches[0].trim())}}};H.operators=[" = "];var q=H;const D=class extends o{};Object.defineProperty(D.prototype,"jsenType",{get:()=>"BooleanType"});var U=D;const W=class extends U{constructor(t){super(),this.state=t}eval(){return"true"===this.state.toLowerCase().trim()}toString(){return this.state}static parse(t,e,r=W){if("true"===(t=t.toLowerCase().trim())||"false"===t)return new r(t)}};var B=W;const I=class extends b{constructor(t,e){super(),this.reference=t,this.args=e}eval(t=null,e=null){var r=this.reference.getEval(t,e),n=this.args.eval(t,e);if(!Object(s._isUndefined)(r.name)){if(Object(s._isFunction)(e))return e(this,r.context,r.name,n);for(var i=r.context instanceof _?r.context.slice():[r.context],a=i.slice();i.length;){var o=i.pop();if(o&&Object(s._isFunction)(o[r.name]))return o[r.name](...n);var c=I.utils||{},l=Object(s._isNumeric)(o)&&c.Num?c.Num:Object(s._isString)(o)&&c.Str?c.Str:Object(s._isArray)(o)&&c.Arr?c.Arr:Object(s._isObject)(o)&&c.Obj?c.Obj:null;if(l&&Object(s._isFunction)(l[r.name]))return n.unshift(o),l[r.name](...n)}throw new Error('"'+this+'" is not a function. (Called on '+a.map(t=>typeof t).join(", ")+")")}}toString(t=null){return this.reference.toString(t)+this.args.toString(t)}static parse(t,e,r=I){if(!t.startsWith("(")&&t.endsWith(")")&&!O.match(t,[" "]).length){var n,i=O.split(t,[]),s=i.pop();if(!((n=e(i.join("")))instanceof h&&(s=e(s,[N]))))throw new Error("Invalid call directive: "+t);return new r(n,s)}}};var z=I;const Y=class extends o{};Object.defineProperty(Y.prototype,"jsenType",{get:()=>"Comments"});var K=Y;const Q=class extends K{constructor(t,e){super(),this.comments=t,this.type=e}eval(t=null,e=null){}toString(t=null){return""}static parse(t,e,r=Q){var n=null,i=null,s=0,a="before";if(t.startsWith("//"))n=(o=O.split(Object(j._after)(t,"//"),["\r\n"])).shift().trim(),i=o.shift().trim(),s=1;else if(t.startsWith("/*")){n=(o=O.split(Object(j._after)(t,"/*"),["*/"])).shift().trim(),i=o.shift().trim(),s=2}else if(t.endsWith("*/")){var o;n=(o=O.split(_beforeLast(t,"*/"),["/*"])).pop().trim(),i=o.pop().trim(),s=2;a="after"}if(s&&(2===s&&(n=O.split(n.trim(),["\r\n"]).map(t=>t.replace(/^[\*]+/,"")).filter(t=>t.trim())),console.log(n,a,t),n=new r(n,s)),i)return(i=e(i)).meta.commenta=n,i}};var X=Q;const G=class extends o{};Object.defineProperty(G.prototype,"jsenType",{get:()=>"ComparisonExpression"});var V=G;const J=class extends V{constructor(t,e,r){super(),this.operand1=t,this.operand2=e,this.operator=r}eval(t=null,e=null){return J.compare(this.operand1.eval(t,e),this.operand2.eval(t,e),this.operator)}toString(t=null){return[this.operand1.toString(t),this.operator,this.operand2.toString(t)].join(" ")}static parse(t,e,r=J){var n=Object(i._flatten)(r.operators).map(t=>" "+t+" "),s=O.lex(t,n);if(s.tokens.length>1){if(s.tokens.length>2)throw new Error('Malformed "Comparison" expression: '+t+"!");return new r(e(Object(i._first)(s.tokens).trim()),e(Object(i._last)(s.tokens).trim()),s.matches[0].trim())}}static compare(t,e,r="=="){if(-1===Object(i._flatten)(J.operators).indexOf(r))throw new Error('The operator "'+r+'" is not recognized.');if(Object(s._isArray)(t)&&Object(s._isArray)(e)&&"==="!==r){if(t.length!==e.length)return!1;var n=!0;t.sort(),e.sort();for(var o=0;o<t.length;o++)n=n&&J.compare(t[o],e[o],r);return n}if(Object(s._isObject)(t)&&Object(s._isObject)(e)&&"==="!==r){var c=Object.keys(t),l=Object.keys(e);if(c.length!==l.length||Object(i._difference)(c,l).length)return!1;var u=!0;return Object(a._each)(c,(n,i)=>{u=u&&J.compare(t[i],e[i],r)}),u}switch(r){case"===":return t===e;case"==":case"=":return t==e;case">":return t>e;case"<":return t<e;case">=":return t>=e;case"<=":return t<=e;case"!=":return t!=e;case"!==":return t!==e;case"^=":return Object(s._isString)(t)&&t.startsWith(e);case"$=":return Object(s._isString)(t)&&t.endsWith(e);case"*=":return!(!Object(s._isArray)(e)&&!Object(s._isString)(e))&&t.indexOf(e)>-1;case"~=":return Object(s._isString)(t)&&Object(s._isString)(e)&&(" "+t+" ").indexOf(" "+e+" ")>-1;case">=<":if(!Object(s._isArray)(e)||2!==e.length)throw new Error("A 'Between' comparison requires argument 2 to be an array of exactly 2 values.");return t>=e[0]&&t<=e[1];case"/**/":return Object(j._matches)(e,t);default:return!1}}static diff(t,e,r){return!J.compare(t,e,r?"===":"==")}};J.operators={exact:{is:"===",isNull:"===",equalsTo:"==",notEqualsTo:"!="},relative:{lesserThan:"<",greaterThan:">",lesserThanOrEqualsTo:"<=",greaterThanOrEqualsTo:">=",between:">=<"},partial:{startsWith:"^=",endsWith:"$=",contains:"*=",any:"~=",in:"~=",matches:"/**/"}};var Z=J;const tt=class extends o{};Object.defineProperty(tt.prototype,"jsenType",{get:()=>"ConditionExpression"});var et=tt;const rt=class extends et{constructor(t,e,r){super(),this.assertion=t,this.onTrue=e,this.onFalse=r}eval(t=null,e=null){return this.assertion.eval(t,e)?this.onTrue.eval(t,e):this.onFalse.eval(t,e)}toString(t=null){return[this.assertion.toString(t),rt.operators[0],this.onTrue.toString(t),rt.operators[1],this.onFalse.toString(t)].join(" ")}static parse(t,e,r=rt){var n=O.split(t,r.operators);if(n.length>1){if(2===n.length)throw new Error("Malformed ternary expression: "+t+"!");return new r(e(n[0].trim()),e(n[1].trim()),e(n[2].trim()))}}};rt.operators=["?",":"];var nt=rt;const it=class extends f{constructor(t,e="delete"){super(),this.reference=t,this.operator=e}eval(t=null,e=null){var r=this.reference.getEval(t,e);return!Object(s._isUndefined)(r.context)&&!Object(s._isUndefined)(r.name)&&(Object(s._isFunction)(e)?e(this,r.context,r.name):(delete(r.context instanceof _?Object(i._last)(r.context):r.context)[r.name],!0))}toString(t=null){return this.operator+" "+this.reference.toString(t)}static parse(t,e,r=it){var n=O.lex(t,Object.values(r.operators));if(1===n.matches.length&&t.startsWith(n.matches[0]+" ")){var i;if(!((i=e(n.tokens.pop().trim()))instanceof h))throw new Error("Invalid delete directive: "+t);return new r(i,n.matches[0].trim())}}};it.operators={red:"reduce",del:"delete"};var st=it;const at=class extends o{};Object.defineProperty(at.prototype,"jsenType",{get:()=>"FunctionType"});var ot=at;const ct=class extends ot{constructor(t,e,r={}){super(),this.paramters=t||{},this.statements=e,this.wrappings=r}inherit(t){if(t instanceof ot){for(var e=Object.keys(t.paramters),r=Object.keys(this.paramters),n=0;n<Math.max(r.length,e.length);n++){var i=e[n],s=r[n];if(!s&&i)throw new Error("Parameter #"+n+" ("+i+") in parent function must be implemented.");if(s&&i){var a=t.paramters[i],o=this.paramters[s];if(o&&!a)throw new Error("Parameter #"+n+" ("+s+") must not have a default value as established in parent function.");if(o&&a&&o.jsenType!==a.jsenType)throw new Error("Default value for parameter #"+n+" ("+s+") must be of type "+a.jsenType+" as established in parent function.")}}this.sup=t}return this}eval(t=null,e=null){return(...r)=>{var n={};Object(a._each)(Object.keys(this.paramters),(i,s)=>{var a=this.paramters[s];if(r.length-1<i&&!a)throw new Error('The parameter "'+s+'" is required.');n[s]=r.length>i?r[i]:this.paramters[s]?this.paramters[s].eval(t,e):null});var i=new _(n);return t instanceof _?i=t.concat(i):t&&i.unshift(t),this.statements.eval(i,e)}}toString(t=null){var e=[];Object(a._each)(this.paramters,(r,n)=>{e.push(r+(n?"="+n.toString(t):""))});var r=!1===this.wrappings.head||1===e.length&&-1===e[0].indexOf("="),n=!1===this.wrappings.body;return(r?e[0]:"("+e.join(", ")+")")+" => "+(n?this.statements.toString(t):"{"+this.statements.toString(t)+"}")}static parse(t,e,r=ct){var n=O.split(t,Object(i._flatten)(r.operators));if(2===n.length){var s=n.shift().trim(),a=n.shift().trim(),o={};Object(j._wrapped)(s,"(",")")?s=Object(j._unwrap)(s,"(",")"):o.head=!1,Object(j._wrapped)(a,"{","}")?a=Object(j._unwrap)(a,"{","}"):o.body=!1;var c={};O.split(s,[","]).forEach(t=>{var r=t.split("=");r[1]?c[r[0].trim()]=e(r[1].trim()):c[t.trim()]=null});var l=e(a);return new r(c,l,o)}}};ct.operators=["=>"];var lt=ct;const ut=class extends o{};Object.defineProperty(ut.prototype,"jsenType",{get:()=>"MathExpression"});var ht=ut;const pt=class extends ht{constructor(t,e){super(),this.val=t,this.exprs=e}eval(t=null,e=null){return this.exprs.reduce((r,n)=>{var i=n.val.eval(t,e),a=n.operator.trim();if(!(Object(s._isNumeric)(r)&&Object(s._isNumeric)(i)||"+"===a))throw new Error("Invalid Math expression: "+this.toString()+"!");switch(a){case"+":return r+i;case"-":return r-i;case"*":return r*i;case"/":return r/i}},this.val.eval(t,e))}toString(t=null){return[this.val.toString(t)].concat(this.exprs.map(e=>e.operator+" "+e.val.toString(t))).join(" ")}static parse(t,e,r=pt){var n=O.lex(t,Object(i._flatten)(r.operators));if(n.tokens.length>1&&n.matches.length===n.tokens.length-1){var s=Object(i._unique)(n.matches);if(Object(i._intersect)(s,pt.operators.sup).length&&Object(i._intersect)(s,pt.operators.sub).length)throw new Error('"Addition/subtraction" and "multiplication/division" operators cannot be used in the same expression: '+t+"!");return new r(e(n.tokens.shift().trim()),n.tokens.map((t,r)=>({operator:n.matches[r],val:e(t.trim())})))}}};pt.operators={sup:["*","/"],sub:[" + "," - "]};var ft=pt;const dt=class extends o{};Object.defineProperty(dt.prototype,"jsenType",{get:()=>"NumberType"});var bt=dt;const mt=class extends bt{constructor(t,e=0){super(),this.int=t,this.dec=e}eval(){return parseFloat(this.int+(this.dec?"."+this.dec:null))}toString(t=null){return this.int+(this.dec?"."+this.dec:null)}static parse(t,e,r=mt){if(Object(s._isNumeric)(t)){t=t.split(".");return new r(parseInt(t.shift()),parseInt(t.shift()))}}};var gt=mt;const vt=class extends o{};Object.defineProperty(vt.prototype,"jsenType",{get:()=>"ObjectType"});var Ot=vt;const _t=class extends Ot{constructor(t){super(),this.entries=t||{}}inherit(t){return t instanceof Ot&&Object(a._each)(t.entries,(t,e)=>{t in this.entries||(this.entries[t]=e)}),this}eval(t=null,e=null){var r={};return Object(a._each)(this.entries,(n,i)=>{r[n]=i.eval(t,e)}),r}toString(t=null){var e=[];return Object(a._each)(this.entries,(r,n)=>{e.push(r+_t.operators.sub+n.toString(t))}),"{"+e.join(_t.operators.sup)+"}"}static parse(t,e,r=_t){if(Object(j._wrapped)(t,"{","}")&&!O.match(t.trim(),[" "]).length){var n={},s=O.split(Object(j._unwrap)(t,"{","}"),[_t.operators.sup]).map(t=>t.trim()).filter(t=>t);return Object(a._each)(s,(t,r)=>{var s=O.split(r,[_t.operators.sub],{limit:1});n[Object(i._first)(s).trim()]=e(Object(i._last)(s).trim())}),new r(n)}}};_t.operators={sup:",",sub:":"};var jt=_t;const yt=class extends h{constructor(t,e,r=!1){super(),this.context=t,this.name=e,this.backticks=r}getEval(t=null,e=null){var r=t,n=this.name;return this.context&&(n instanceof o&&(n=n.eval(t,e)),r=this.context.eval(t,e)),{context:r,name:n}}eval(t=null,e=null){var r=this.getEval(t,e);if(!Object(s._isUndefined)(r.context)&&!Object(s._isUndefined)(r.name)){if(Object(s._isFunction)(e))return e(this,r.context,r.name);for(var n=r.context instanceof _?r.context.slice():[r.context];n.length;){var i=n.pop()[r.name];if(!Object(s._isUndefined)(i))return i}}}toString(t=null){var e=this.name;if(this.context){var r=this.context.toString(t);e instanceof o?e="["+e.toString(t)+"]":this.backticks&&(e="`"+e+"`")}else{r=t;this.backticks&&(e="`"+e+"`")}return(r||"")+(r&&!e.startsWith("[")?yt.separator:"")+e}static parse(t,e,r=yt){if(!O.match(t.trim(),[" "]).length){var n,i,s=O.split(t,[]),a=s.pop(),o=O.split(a.trim(),[r.separator],{preserveDelims:!0});if(o.length>1&&(a=o.pop().substr(1),s=s.concat(o)),Object(j._wrapped)(a,"`","`")&&(a=Object(j._unwrap)(a,"`","`"),i=!0),s.length&&((n=e(s.join(""))).isContext=!0),Object(j._wrapped)(a,"[","]")){if(!n)throw new Error("Invalid reference: "+t+"!");a=e(Object(j._unwrap)(a,"[","]"))}return new r(n,a,i)}}};yt.separator=".";var wt=yt;const xt=class extends o{};Object.defineProperty(xt.prototype,"jsenType",{get:()=>"ReturnDirective"});var $t=xt;const Ct=class extends $t{constructor(t){super(),this.expr=t}eval(t=null,e=null){return this.expr?this.expr.eval(t,e):void 0}toString(t=null){return this.expr?"return "+this.expr.toString(t):"return"}static parse(t,e,r=Ct){var n=t.toLowerCase();if(n.startsWith("return ")||"return"===n)return new r(e(t.substr(6).trim()))}};var kt=Ct;const Et=class extends o{};Object.defineProperty(Et.prototype,"jsenType",{get:()=>"Statements"});var At=Et;const St=class extends At{constructor(t,e){super(),this.stmts=exprs,this.delim=e}eval(t=null,e=null){for(var r=[],n=0;n<this.stmts.length;n++){if(this.stmts[n]instanceof $t)return this.stmts[n].eval(t,e);r[n]=this.stmts[n].eval(t,e)}return r}toString(t=null){return this.stmts.map(e=>e.toString(t)).join(this.delim)}static parse(t,e,r=St){var n=O.lex(t,Object(i._flatten)(r.operators));if(n.tokens.length>1)return new r(n.tokens.map(t=>e(t)),n.matches[0].trim())}};St.operators=[";","\r\n"];var Tt=St;const Pt=class extends o{};Object.defineProperty(Pt.prototype,"jsenType",{get:()=>"StringType"});var Nt=Pt;const Mt=class extends Nt{constructor(t,e){super(),this.expr=t,this.quote=e}eval(){return this.expr}toString(){return this.quote+this.expr+this.quote}static parse(t,e,r=Mt){if(t=t.trim(),(Object(j._wrapped)(t,'"','"')||Object(j._wrapped)(t,"'","'"))&&!O.match(t,[" "]).length){var n=Object(j._wrapped)(t,'"','"')?'"':"'";return new r(Object(j._unwrap)(t,n,n),n)}}};var Ft=Mt,Rt=r(7);const Lt=(t,e,r="")=>Object.keys(t).reduce((e,n)=>a._with(e,r+n,(function(){return t[n](this,...arguments)})),e),Ht=(t,e={})=>Object.keys(t).reduce((e,r)=>a._with(e,r.substr(1),t[r]),e),qt=Ht(i),Dt=Ht(s),Ut=Ht(Rt),Wt=Ht(a),Bt=Ht(j);r.d(e,"e",(function(){return O})),r.d(e,"d",(function(){return _})),r.d(e,"a",(function(){return N})),r.d(e,"b",(function(){return T})),r.d(e,"c",(function(){return b})),r.d(e,"f",(function(){return h})),g.grammars={Comments:X,Return:kt,Statements:Tt,Deletion:st,Assignment:q,Func:lt,Abstraction:$,Condition:nt,Assertion:L,Comparison:Z,Math:ft,Arr:A,Obj:jt,Num:gt,Str:Ft,Bool:B,Call:z,Reference:wt},z.utils=n;e.g=g},function(t,e,r){"use strict";var n=r(0),i=r(2),s=r(6);const a=class extends s.b{constructor(t={},e={}){super(t,Object(i._inherit)({},e,a.params))}static use(t,...e){var r,i;if(r=a.registry[t])return r.singletonInstance?r.singletonInstance:(i=Object(n._isClass)(r.component)?new r.component(...e):r.component(...e),r.singleton&&(r.singletonInstance=i),i);throw new Error('The "'+t+'" component is undefined!')}static register(t,e,r=!1){a.registry[t]={component:e,singleton:r}}};a.registry={},a.params={},e.a=a},function(t,e,r){"use strict";var n=r(4),i=r(0),s=r(1),a=r(2);var o=class{constructor(t){this.$={isPropagationStopped:!1,isDefaultPrevented:!1,promises:[]},Object(a._each)(t,(t,e)=>{this[t]=e})}stopPropagation(){this.$.isPropagationStopped=!0}get isPropagationStopped(){return this.$.isPropagationStopped}preventDefault(){this.$.isDefaultPrevented=!0}get isDefaultPrevented(){return this.$.isDefaultPrevented}promise(t){if(!(t instanceof Promise))throw new Error("Event.promise() must be called with a Promise.");this.$.promises.push(t)}get promises(){return this.$.promises.length?Promise.all(this.$.promises):null}};var c=class{constructor(){this.$={listeners:[]}}addListener(t,e,r={},n=null){if(Object(i._isFunction)(t)&&(n=arguments.length>2?r:"",r=e,e=t,t=null),!Object(i._isFunction)(e))throw new Error('Callback must be a function; "'+Object(i._getType)(e)+'" given!');var a={eventNames:t,callback:e,params:r,tag:n,remove:()=>{Object(s._remove)(this.$.listeners,a)}};return this.$.listeners.push(a),a}removeListener(t,e=null,r={},n=null){Object(i._isFunction)(t)&&(n=arguments.length>2?r:"",r=e||{},e=t,t=null);for(var o=!1,c=0;c<this.$.listeners.length;c++)!Object(i._isNull)(t)&&!Object(a._even)(Object(s._from)(this.$.listeners[c].eventNames),Object(s._from)(t))||!Object(i._isNull)(e)&&this.$.listeners[c].callback!==e||!Object(i._isNull)(r)&&!Object(a._even)(this.$.listeners[c].params,r)||!Object(i._isNull)(n)&&this.$.listeners[c].tag!==n||(this.$.listeners[c].removeCallback&&this.$.listeners[c].removeCallback(),this.$.listeners[c].remove(),o=!0);return o}eventsAll(){var t=[];return(this.$.listeners||[]).forEach(e=>{Object(i._isNull)(e.eventNames)||(t=Object(s._concatUnique)(t,Object(s._from)(e.eventNames)))}),t}fire(t,e){var r=e instanceof o?e:new o(e);t=Object(s._from)(t),this.$.currentlyFiring=this.$.currentlyFiring||[];var n=Object(s._difference)(t,this.$.currentlyFiring);if(n.length){Object(s._concatUnique)(this.$.currentlyFiring,n);for(var i=0;i<(this.$.listeners||[]).length;i++)if(!r.isPropagationStopped){var a=this.$.listeners[i],c=a.params||{},l=Object(s._from)(a.eventNames).map(t=>t.replace(/\`/g,""));if((l.length?l.filter(t=>(r.bubbling&&t.indexOf(".")>-1?r.bubbling:!r.bubbling||c.allowBubbling?n:[]).filter(e=>(t+".").startsWith(e+".")).length).length:!r.bubbling||c.allowBubbling)&&this._shouldFire(a,t,r)){var u,h=this._doFire(a,t,r);!1===h||h instanceof o&&h.isPropagationStopped?r.stopPropagation():!1===h||h instanceof o&&h.isDefaultPrevented?r.preventDefault():(h instanceof Promise&&(u=h)||h instanceof o&&(u=h.promises))&&r.promise(u)}}return Object(s._exclude)(this.$.currentlyFiring,...n),r}}_shouldFire(t,e,r){return!0}_doFire(t,e,r){var n=r.context||{},o=r._context||{};if(!Object(i._isNull)(t.eventNames)){var c=[],l=[];Object(s._from)(t.eventNames).forEach(t=>{t=Object(i._isString)(t)?t.split("."):t,c.push(Object(a._get)(n,t)),l.push(Object(a._get)(o,t))});return Object(i._isArray)(t.eventNames)?t.callback(c,l,r):t.callback(c[0],l[0],r)}c={},l={};return e.forEach(t=>{var e=Object(i._isString)(t)?t.split("."):t;c[t]=Object(a._get)(n,e),l[t]=Object(a._get)(o,e)}),t.callback(c,l,r)}};const l=class extends c{constructor(t={},e={}){super(),this.$.params=Object(a._inherit)({},e,l.params),this.$.bubblers={},this.$.state=t,this.$._state=Object(i._isArray)(t)?t.slice():Object(a._copy)(1,t),Object(a._each)(this.$.state,(t,e)=>{this._incoming(t,e)})}setOffsetParent(t){this.$.offsetParent=t}getOffsetParent(){return this.$.offsetParent}observe(...t){return this.addListener(...t)}unobserve(...t){return this.removeListener(...t)}set(t,e){var r={};Object(i._isString)(t)||Object(i._isNumber)(t)?r[t]=e:Object(i._isArray)(t)?t.forEach(t=>{r[t]=e}):Object(i._isObject)(t)&&(r=t);var n=Object.keys(r);Object(i._isArray)(this.$.state)&&(n=n.map(t=>parseInt(t)));var s=[];n.forEach(t=>{t in this.$.state?this._outgoing(t,this.$.state[t]):s.push(t);var e=r[t];if(Object(i._isProxy)(e)){var n=Object(i._getProxyTarget)(e);Object(i._isObservable)(n)&&(e=n)}this._incoming(t,e),this.$.state[t]=e});var a=this.fire(n,{context:this.$.state,_context:this.$._state,entries:s,exits:[]});return n.forEach(t=>{this.$._state[t]=this.$.state[t]}),a}del(t){var e=Object(s._from)(t),r=[];e.forEach(t=>{t in this.$.state&&(r.push(t),this._outgoing(t,this.$.state[t])),delete this.$.state[t]});var n=this.fire(e,{context:this.$.state,_context:this.$._state,entries:[],exits:r});return e.forEach(t=>{delete this.$._state[t]}),n}asOwnMethod(t){if(Object(i._isString)(t)&&this.$.params.methodPrefix&&t.startsWith(this.$.params.methodPrefix)){var e=t.substr(this.$.params.methodPrefix.length);if(e&&Object(i._isFunction)(e=this[e]))return e.bind(this)}}get(t){var e=this.asOwnMethod(t);if(e)return e;if("_"===t)return this.getOffsetParent();if("__"===t){var r=this.getOffsetParent();return(r?r.get("__"):r)||r}var n=this.$.state[t];return Object(i._isArray)(this.$.state)&&!Object(i._isNumeric)(t)&&Object(i._isFunction)(n)?(...t)=>{var e=this.$.state.slice(),r=n.apply(this.$.state,t),i=Object(s._unique)(Object.keys(e).concat(Object.keys(this.$.state))).filter(t=>{if(t=parseInt(t),this.$.state[t]!==e[t])return t in this.$.state?this._incoming(t,this.$.state[t]):this._outgoing(t,e[t]),!0});return i.length&&(this.fire(i,{context:this.$.state,_context:this.$._state}),this.$._state=this.$.state.slice()),r}:n}has(t){return t in this.$.state}keys(){return Object.keys(this.$.state)}jsenEval(t,e={}){var r=n.g.parse(t,null,e);if(r)return r.eval(this,this.jsenGetter())}jsenGetter(t=[]){return(e,r,s,a=[])=>{if(e instanceof n.c||e instanceof n.f){e.isContext||t.push(e);for(var o,c=!0,l=r instanceof n.d?r.slice():[r],u=l.slice();Object(i._isUndefined)(o)&&c&&l.length;){var h=l.pop();Object(i._isObservable)(h)?o=h.get(s):h&&(o=h[s]),e instanceof n.c&&!Object(i._isUndefined)(o)&&(Object(i._isFunction)(o)||this.error(s+"() is not callable in the expression "+e.toString()+"!"),o=o.apply(h,a),c=!1)}return c&&e instanceof n.c&&this.error('"'+e+'" is not a function. (Called on '+u.map(t=>typeof t).join(", ")+")"),o}this.error('Operation "'+e+'" is not supported!')}}_shouldFire(t,e,r){var n=0,o=0;"CACHE"in r.$||(r.$.CACHE={},r.$._CACHE={});var c=t.params||{};return(Object(i._isNull)(t.eventNames)?e:Object(s._from)(t.eventNames)).forEach(t=>{if(!(t in r.$.CACHE)){r.$.CACHE[t]={},r.$._CACHE[t]={};var e={},s={},l=Object(i._isString)(t)?t.split("."):t;r.$.CACHE[t].val=Object(a._get)(r.context,l,e),r.$._CACHE[t].val=Object(a._get)(r._context,l,s),r.$.CACHE[t].existence=e.exists,r.$._CACHE[t].existence=s.exists,!1===c.diff||"diffing"in r.$.CACHE[t]||(r.$.CACHE[t].diffing=r.bubbling||r.$.CACHE[t].existence!==r.$._CACHE[t].existence||(Object(i._isObject)(r.$.CACHE[t].val)&&Object(i._isObject)(r.$._CACHE[t].val)?!Object(a._even)(r.$.CACHE[t].val,r.$._CACHE[t].val):r.$.CACHE[t].val!==r.$._CACHE[t].val))}Object(i._isNumeric)(c.pulse)&&r.context&&r._context&&(0===c.pulse&&r.$.CACHE[t].val&&!r.$._CACHE[t].val?o++:1===c.pulse&&!r.$.CACHE[t].val&&r.$._CACHE[t].val&&o++),(!1===c.diff||r.$.CACHE[t].diffing)&&n++}),!o&&n&&super._shouldFire(t,e,r)}_outgoing(t,e){Object(i._isObservable)(e)&&(t in this.$.bubblers&&e.unobserve(this.$.bubblers[t],{allowBubbling:!0}),Object(i._isFunction)(e.getOffsetParent)&&e.getOffsetParent()===this&&e.setOffsetParent(null))}_incoming(t,e){Object(i._isObservable)(e)&&(e.observe(this._getBubbler(t),{allowBubbling:!0}),Object(i._isFunction)(e.getOffsetParent)&&!e.getOffsetParent()&&e.setOffsetParent(this))}_getBubbler(t){return this.$.bubblers=this.$.bubblers||{},this.$.bubblers[t]=(e,r,n)=>{var i={};return i.context=this.$.state,i._context=this.$._state,i.entries=(n.entries||[]).slice(),i.exits=(n.exits||[]).slice(),i.bubbling=(n.bubbling?Object(s._from)(n.bubbling):Object.keys(e)).map(e=>t+"."+e),this.fire(t,i)},this.$.bubblers[t]}warn(t){console.error(t)}error(t){if(this.$.params.strictDebug)throw new Error(t);console.error(t)}proxy(){return Object(i._proxy)(this,{get:function(t,e){var r=t.get(e);return Object(i._isObject)(r)&&Object(i._isFunction)(r.proxy)&&(r=r.proxy()),r},set:function(t,e,r){return t.set(e,r),!0},has:function(t,e){return t.has(e)},deleteProperty:function(t,e){return t.del(e)},ownKeys:function(t){return Object.keys(t.$.state)},defineProperty:function(t,e,r){return Object.defineProperty(t.$.state,e,r),t.set(e,t.$.state[e]),!0},getOwnPropertyDescriptor:function(t,e){return Object.getOwnPropertyDescriptor(t.$.state,e)},getOwnPropertySymbols:function(t){return Object.getOwnPropertySymbols(t.$.state)},getOwnPropertyNames:function(t){return Object.getOwnPropertyNames(t.$.state)}})}};l.params={methodPrefix:"$"};var u=l;r.d(e,"a",(function(){return c}));e.b=u},function(t,e,r){"use strict";r.r(e),r.d(e,"_closest",(function(){return s})),r.d(e,"_fromWords",(function(){return a}));var n=r(0),i=r(2);const s=function(t,e,r=!1){var i=null,s=t;(r||Object(n._isObject)(s))&&(i=Object.keys(s),s=i.map(t=>s[t]));var a=s.reduce((t,r)=>Math.abs(r-e)<Math.abs(t-e)?r:t,void 0);return i?i[s.indexOf(a)]:a},a=function(t){var e=strtr(t,{zero:"0",a:"1",one:"1",two:"2",three:"3",four:"4",five:"5",six:"6",seven:"7",eight:"8",nine:"9",ten:"10",eleven:"11",twelve:"12",thirteen:"13",fourteen:"14",fifteen:"15",sixteen:"16",seventeen:"17",eighteen:"18",nineteen:"19",twenty:"20",thirty:"30",forty:"40",fourty:"40",fifty:"50",sixty:"60",seventy:"70",eighty:"80",ninety:"90",hundred:"100",thousand:"1000",million:"1000000",billion:"1000000000",and:""}).split("/[s-]+/").map(t=>parseFloat(t)),r=null,n=0,s=null;return Object(i._each)(e,(t,e)=>{""!==r?r>e?s>=1e3?(n+=r,r=e):r+=e:r*=e:r=e,s=e}),n+r}},function(t,e,r){"use strict";var n=r(1),i=r(0),s=r(2),a=r(3);const o={readCallbacks:[],writeCallbacks:[],_run:function(){requestAnimationFrame(()=>{o.readCallbacks.forEach((t,e)=>{t&&!t()&&(o.readCallbacks[e]=null)}),o.writeCallbacks.forEach((t,e)=>{t&&!t()&&(o.writeCallbacks[e]=null)}),o._run()})},onread:function(t,e=!1){if(e)return new Promise((e,r)=>{o.readCallbacks.push(()=>{t(e,r)})});o.readCallbacks.push(t)},onwrite:function(t,e=!1){if(e)return new Promise((e,r)=>{o.writeCallbacks.push(()=>{t(e,r)})});o.writeCallbacks.push(t)},cycle:function(t,e,r){o.onread(()=>{var n=t(r);if(n){var i=n=>{o.onwrite(()=>{var i=e(n,r);if(i){var s=r=>{o.cycle(t,e,r)};i instanceof window.Promise?i.then(s):s()}})};n instanceof window.Promise?n.then(i):i()}})}};o._run();var c=o;const l=function(t,e=document){return u(t,e,!1)},u=function(t,e=document,r=!0){var n,i=r?"querySelectorAll":"querySelector";try{n=e[i](t)}catch(r){try{n=e[i](t.replace(/\:is\(/g,":matches("))}catch(r){try{n=e[i](t.replace(/\:is\(/g,":-webkit-any("))}catch(r){try{n=e[i](t.replace(/\:is\(/g,":-moz-any("))}catch(t){throw t}}}}return n};Element.prototype.matches||(Element.prototype.matches=Element.prototype.matchesSelector||Element.prototype.mozMatchesSelector||Element.prototype.msMatchesSelector||Element.prototype.oMatchesSelector||Element.prototype.webkitMatchesSelector||function(t){for(var e=(this.document||this.ownerDocument).querySelectorAll(t),r=e.length;--r>=0&&e.item(r)!==this;);return r>-1});const h=function(t,e,r=null){t.dataset.__customDatasetKey||(t.dataset.__customDatasetKey=p.length,p[t.dataset.__customDatasetKey]={});var n=p[t.dataset.__customDatasetKey];if(2===arguments.length){if(Object(i._isString)(e))return n[Object(a._toCamel)(e)];if(Object(i._isArray)(e)){var o={};return e.forEach(t=>{o[t]=n[Object(a._toCamel)(t)]}),o}}var c=e;Object(i._isObject)(e)||(c=Object(s._from)(e,r)),Object(s._each)(c,(t,e)=>{n[Object(a._toCamel)(t)]=e})},p=[],f=function(t,e,r=null,a=null){if(2===arguments.length){if(Object(i._isString)(e))return t.getAttribute(e);if(Object(i._isArray)(e)){var o={};return e.forEach(e=>{o[e]=t.getAttribute(e)}),o}}var c=e;return Object(i._isObject)(c)?a=r:c=Object(s._from)(e,r),Object(s._each)(c,(e,r)=>{if(arguments.length>3||Object(i._isObject)(c)&&arguments.length>2){var s=Object(i._isString)(r)?r.trim():r,o=t.getAttribute(e),l=o?o.split(" ").map(t=>t.trim()):[];!a&&l.includes(s)?t.setAttribute(e,Object(n._remove)(l,s).join(" ")):a&&!l.includes(s)&&t.setAttribute(e,l.concat(s).join(" "))}else!1===r?t.removeAttribute(e):t.setAttribute(e,!0===r?"true":r)}),t},d=function(t,e=null){return arguments.length>1?(Object(i._isString)(e)?t.innerHTML=e:(t.innerHTML="",Object(i._isUndefined)(e)||t.append(e)),t):t.innerHTML},b=function(t,e=null){return arguments.length>1?(t.innerText=Object(i._isUndefined)(e)?"":e,t):t.innerText},m=function(t,e){return t.append(Object(i._isUndefined)(e)?"":e),t},g=function(t,e){return t.prepend(Object(i._isUndefined)(e)?"":e),t},v=(O=window.getComputedStyle(document.documentElement,""),{prefix:_=(Array.prototype.slice.call(O).join("").match(/-(moz|webkit|ms)-/)||""===O.Olink&&["","o"])[1],css:"-"+_+"-",api:"WebKit|Moz|Ms|O".match(new RegExp("("+_+")","i"))[1]});var O,_;var j=class{constructor(t,e,r,i){this.el=t,this.params=Object(n._from)(e),this.readCallback=r,this.writeCallback=i,this.$savepoints=[]}save(){var t=this.readCallback(this.el,this.params);return t instanceof Promise?t.then(t=>this.$savepoints.push(t)):Object(i._isObject)(t)?this.$savepoints.push(t):void 0}commit(t=0){for(var e=0;e<=t&&t<this.$savepoints.length;e++)this.$savepoints[e]=null;return this}rollback(t=0){if(!Object(i._isNumeric)(t))throw new Error("A valid transaction ID transaction must be provided!");var e=e=>{var r=this.$savepoints.splice(t),n=r.shift();if(!n)return{};var i=r.pop(),s={};return this.params.forEach(t=>{i&&e[t]!==i[t]||e[t]!==n[t]&&(s[t]=n[t])}),s},r=this.readCallback(this.el,this.params);return r instanceof Promise?r.then(t=>this.writeCallback(this.el,e(t))):this.writeCallback(this.el,e(r))}depth(){return this.$savepoints.length}};const y=class{constructor(t){Object(s._each)(t,(t,e)=>{["rotate","scale","skew","translate"].includes(t)&&(this[t]=Object(i._isArray)(e)?new y[t](...e):new y[t](e))})}toString(){return["rotate","scale","skew","translate"].reduce((t,e)=>t+(this[e]&&this[e].length?" "+this[e]:""),"").trim()}static parse(t){var e=function(t){return Math.round(100*t)/100},r=function(t){var r=180*t/Math.PI;return e(r)},n=function(t){var e=[];if(window.WebKitCSSMatrix)return[(e=new window.WebKitCSSMatrix(t)).a,e.b,e.c,e.d,e.e,e.f];for(var r,n=/[\d\.\-]+/g;r=n.exec(t);)e.push(+r);return e}(t),i=n[0],s=n[1],a=n[2],o=n[3];if(i*o==s*a)throw new Error("Dramatic.parseTransform: matrix is singular");var c=Math.sqrt(i*i+s*s),l=(i/=c)*a+(s/=c)*o;a-=i*l,o-=s*l;var u=Math.sqrt(a*a+o*o);return l/=u,i*(o/=u)<s*(a/=u)&&(i=-i,s=-s,l=-l,c=-c),new y({translate:[n[4],n[5]],scale:[e(c),e(u)],rotate:r(Math.atan2(s,i)),skew:r(Math.atan(l))})}};y.rotate=class extends Array{toString(){return"rotate("+this.map(t=>Object(i._isNumeric)(t)?t+"deg":t).join(", ")+")"}},y.scale=class extends Array{toString(){return"scale("+this.join(", ")+")"}},y.skew=class extends Array{toString(){return"skew("+this.map(t=>Object(i._isNumeric)(t)?t+"deg":t).join(", ")+")"}},y.translate=class extends Array{toString(){return"translate("+this.map(t=>Object(i._isNumeric)(t)?t+"px":t).join(", ")+")"}};var w=y;const x=function(t,e,r=null){var n=window.getComputedStyle(t,r);return N(e,(t,e)=>{var r=n.getPropertyValue(R(t)||t);return"width"!==t&&"height"!==t||""!==r||(r="0px"),"transform"===t&&(r=w.parse(r)),r},!1)},$=function(t,e,r=null){e="string"==typeof e?Object(s._from)(e,r):e;var n={inset:["top","right","bottom","left"],margin:["top","right","bottom","left"],padding:["top","right","bottom","left"]};return N(Object.keys(e),(r,a)=>{var o=e[a];Object(s._each)(n,(t,e)=>{r===t&&(Object(i._isObject)(o)&&(o=e.map(t=>o[t]).filter(t=>!Object(i._isUndefined)(t))),Object(i._isArray)(o)&&(o=o.join(" ")))}),"transform"!==r||!Object(i._isObject)(o)||o instanceof w||(o=new w(o).toString()),t.style[r]=L.includes(r)&&Object(i._isNumeric)(o)?o+"px":o},"auto"),t},C=function(t,...e){return e.length>1&&Object(i._isString)(e[0])||Object(i._isObject)(e[0])?$(t,...e):x(t,...e)},k=function(t,e,r=null){return c.onread((n,s)=>{try{n(Object(i._isFunction)(e)?e(t):x(t,e,r))}catch(t){s(t)}},!0)},E=function(t,e,r=null){return c.onwrite((n,i)=>{try{n($(t,e,r))}catch(t){i(t)}},!0)},A=function(t,e,r=null,n=null){var s=Object(i._isObject)(e)?Object.keys(e):e;n=Object(i._isObject)(e)?r:n;var a=S(t,s);return E(t,e,r).then(()=>k(t,n||s).then(e=>E(t,a).then(()=>e)))},S=function(t,e,r="auto"){var n=t.getAttribute("style");return"all"===e&&(e=n.split(";").map(t=>t.split(":")[0])),N(e,t=>(new RegExp(";[ ]*?"+t+":([^;]+);?","g").exec(";"+n)||["",""])[1].trim(),r)},T=function(t,e,r=!0){var n=Object(i._isArray)(t)?t.join("|"):t;if(!e&&H[n])return H[n];var a=[];return M(e=>{if((e.type===window.CSSRule.KEYFRAMES_RULE||e.type===window.CSSRule[v.api.toUpperCase()+"_KEYFRAMES_RULE"])&&(Object(i._isArray)(t)?t:[t]).indexOf(e.name)>-1)return a=a.concat(a,function(t){for(var e=[],n=0;n<t.cssRules.length;n++){var i=t.cssRules[n],a=F(i.cssText.replace(i.keyText,"").replace("{","").replace("}","").trim()),o=(i.keyText||" ").split(",").map(t=>"from"===t?0:"to"===t?1:parseInt(t)/100);if(r)for(P(a,["animation-","transition-"]);o.length;){var c=Object(s._copyPlain)(a);c.offset=o.shift(),e.push(c)}else a.offset=o.length>1?o:o[0],e.push(a)}return e.sort((t,e)=>t.offset===e.offset?0:t.offset>e.offset?1:-1)}(e)),!0},!0),H[n]=a,a},P=function(t,e,r=""){Object(i._isArray)(r)?r.forEach(e=>{P(t,e)}):(t[r+"timing-function"]&&(t.easing=t[r+"timing-function"],delete t[r+"timing-function"]),t[r+"fill-mode"]&&(t.fill=t[r+"fill-mode"],delete t[r+"fill-mode"]),t[r+"iteration-count"]&&(t.iterations=t[r+"iteration-count"],delete t[r+"iteration-count"],"infinite"===t.iterations&&(t.iterations=1/0)))},N=function(t,e,r){var o={},c=Object(n._from)(t);return Object(s._each)(c,(t,n)=>{((t,n)=>{var i=Object(a._fromCamel)(n,"-").toLowerCase();if("auto"===r)o[i]=e(R(i)||i,c[t]);else{if(r){var s=R(i);s&&(o[s]=e(s,c[t]))}o[i]=e(i,c[t])}})(t,n)}),Object(i._isArray)(t)||r||"size"===t||"offsets"===t?o:o[t]},M=function(t,e){var r=document.styleSheets,n=function(e){try{for(var r=0;r<e.cssRules.length;r++){var n=e.cssRules[r];if(!0===t(n))return!0}}catch(t){}};if(e){for(var i=r.length-1;i>=0;i--)if(!0===n(r[i]))return!0}else for(i=0;i<r.length;i++)if(!0===n(r[i]))return!0},F=function(t){var e={};return Object(s._each)(t.split(";"),(t,r)=>{r=r.split(":"),e[r[0].trim()]=r[1].trim()}),e},R=function(t){var e=Object(a._toCamel)(t,!0);if(v.api+e in document.body.style)return v.css+Object(a._fromCamel)(t,"-")},L=["width","height","top","left","right","bottom","padding","padding-top","padding-left","padding-right","padding-bottom","margin","margin-top","margin-left","margin-right","margin-bottom","border-width","border-top-width","border-left-width","border-right-width","border-bottom-width","outline-width","outline-top-width","outline-left-width","outline-right-width","outline-bottom-width"],H={};var q=r(6);const D={},U={setup(t,e,r,n){var i=!0,a=U.events.map((t,e)=>{var n=r.get(t);return n||(i=!1,n=new Hammer.Tap({event:t,taps:U.events.length-e}),r.add(n)),n});if(!i){for(var o,c=a.slice();(o=c.shift())&&c.length;)o.recognizeWith(c);for(var l,u=a.slice();(l=u.pop())&&u.length;)l.requireFailure(u)}r.on(n,e=>t(e.type,{context:Object(s._from)(e.type,e)}))},teardown(t,e,r){e.off(r)},events:["tripletap","doubletap","singletap"]};U.events.forEach(t=>{D[t]=U});var W=D;const B=class extends q.a{constructor(t,e={}){super(),this.el=t,this.$.params=e,this.$.activeHooks={},this.$.hammertime=new Hammer.Manager(this.el)}_setup(t,e){if(!this.$.activeHooks[t])if(W[t])if(Object(i._isString)(W[t]))this.$.activeHooks[t]=e=>this.fire(t,{context:Object(s._from)(t,e)}),this.addListener(W[t],this.$.activeHooks[t]);else{if(!Object(i._isFunction)(W[t].setup))throw new Error('The "'+t+'" event hook must have a "setup" function!');this.$.activeHooks[t]=!0,W[t].setup((r,n)=>{Object(i._isFunction)(W[t].validate)&&!W[t].validate(r,n,t,e)||this.fire(r,n)},this.el,this.$.hammertime,t)}else if(z(t.split("+")[0])){var r=t.split("+").map(t=>{var e=z(t),r=this.$.hammertime.get(e);return r||(r=new(Hammer[Object(a._toTitle)(e)]),this.$.hammertime.add(r)),r});r.forEach((t,e)=>{t.recognizeWith(r.slice(e+1))}),this.$.activeHooks[t]=e=>this.fire(t,{context:Object(s._from)(t,e)}),this.$.hammertime.on(t.split("+").join(" "),this.$.activeHooks[t])}else this.$.activeHooks[t]=e=>this.fire(t,{context:Object(s._from)(t,e)}),this.el.addEventListener(t,this.$.activeHooks[t])}_teardown(t){if(this.$.activeHooks[t]){if(W[t])if(Object(i._isString)(W[t]))this.removeListener(W[t],this.$.activeHooks[t]);else{if(!Object(i._isFunction)(W[t].teardown))throw new Error('The "'+t+'" event hook must have a "teardown" function!');W[t].teardown(this.el,this.$.hammertime,t)}else z(t.split("+")[0])?this.$.hammertime.off(t.split("+").join(" "),this.$.activeHooks[t]):this.el.removeEventListener(t,this.$.activeHooks[t]);delete this.$.activeHooks[t]}}addListener(...t){var e=super.addListener(...t);return Object(n._from)(e.eventNames).forEach(t=>{this._setup(t,e.params)}),e.removeCallback=()=>{Object(n._from)(e.eventNames).forEach(t=>{this._teardown(t)})},e}},I={press:["press","pressup"],rotate:["rotate","rotatestart","rotatemove","rotateend","rotatecancel"],pinch:["pinch","pinchstart","pinchmove","pinchend","pinchcancel","pinchin","pinchout"],pan:["pan","panstart","panmove","panend","pancancel","panleft","panright","panup","pandown"],swipe:["swipe","swipeleft","swiperight","swipeup","swipedown"],tap:["tap"]},z=function(t){return Object(s._find)(I,e=>e.includes(t),!1)};const Y=class{constructor(t,e,r={}){this.el=t,this.$={readyCallbacks:[],finishCallbacks:[],cancelCallbacks:[],params:r},r.fill=r.fill||"both","duration"in r||(r.duration=400),r.easing&&-1===["ease-in","ease-out","ease-in-out"].indexOf(r.easing)&&-1===r.easing.indexOf("(")&&(r.easing=function(t){t=t.indexOf("-")?t:Object(a._fromCamel)(t,"-");return window.getComputedStyle(document.body).getPropertyValue("--"+t)}(r.easing)||r.easing);var o={inset:["top","right","bottom","left"],margin:["top","right","bottom","left"],padding:["top","right","bottom","left"]};const c=t=>{t=t.slice();var e={},a={};Object(s._each)(t,(t,r)=>{Object(s._each)(o,(t,e)=>{r[t]&&(Object(i._isObject)(r[t])&&(r[t]=e.map(e=>r[t][e]).filter(t=>!Object(i._isUndefined)(t))),Object(i._isArray)(r[t])&&(r[t]=r[t].join(" ")))}),!r.transform||!Object(i._isObject)(r.transform)||r.transform instanceof w||(r.transform=new w(r.transform).toString()),Object(n._exclude)(Object.keys(r),"offset","easing").forEach(t=>{L.includes(t)&&Object(i._isNumeric)(r[t])&&(r[t]+="px"),e[t]=void 0===e[t]?r[t]:e[t],a[t]=r[t]})});try{var c=this.el.animate(t,r)}catch(t){return void(this.$.error=t)}r.reverse&&c.reverse(),c.effect||(c.effect={}),c.effect.duration||(c.effect.duration=r.duration),c.onfinish=()=>{r.cancelForCss&&(c.cancel(),"forwards"!==r.fill&&"both"!==r.fill||$(this.el,a)),this.$.finishCallbacks.forEach(t=>{t(this.el)})},c.oncancel=()=>{this.$.cancelCallbacks.forEach(t=>{t(this.el)})},this.$.anim=c,this.$.firstFrame=e,this.$.lastFrame=a,this.$.readyCallbacks.length&&this.$.readyCallbacks.forEach(t=>t(c,r,e,a))};Object(i._isFunction)(e)?e(t,c):Y.createCallback(t,e,c,t=>{this.$.error=t})}ready(t,e){this.$.error?e&&e(this.$.error):this.$.anim?t(this.$.anim,this.$.params,this.$.firstFrame,this.$.lastFrame):this.$.readyCallbacks.push(t)}onfinish(t){if(!Object(i._isFunction)(t))throw new Error("Onfinish() accepts only a function.");return this.$.finishCallbacks.push(t),this}oncancel(t){if(!Object(i._isFunction)(t))throw new Error("Oncancel() accepts only a function.");return this.$.cancelCallbacks.push(t),this}seek(t){if(!Object(i._isNumber)(t))throw new Error("Seek() accepts only a numeric value.");return this.ready((e,r)=>{e.currentTime=Math.min(t*r.duration,r.duration)}),this}progress(){return this.$.anim?this.$.anim.currentTime/this.$.anim.effect.duration:0}reverse(){return this.ready(t=>t.reverse()),this}play(){return new Promise((t,e)=>{this.ready(r=>{r.play(),this.onfinish(()=>t(this)),this.oncancel(()=>e(this))},e)})}pause(){return this.ready(t=>t.pause()),this}finish(){return this.ready(t=>t.finish()),this}cancel(){return this.ready(t=>t.cancel()),this}static createCallback(t,e,r,a){if(Object(i._isObject)(e))c.onread(()=>{Y.createCallback(t,[x(t,Object.keys(e)),e],r,a)});else{if(Object(i._isString)(e)){var o=e;!(e=T(t,o)).length&&a&&a('Animation name "'+o+'" not found in any stylesheet!')}if(Object(i._isArray)(e)){var l=[];if(Object(s._each)(e,(t,e)=>{"auto"===e.height&&Object(n._pushUnique)(l,t),"auto"===e.width&&Object(n._pushUnique)(l,t)}),l.length)return void A(t,{width:"auto",height:"auto"},t=>t.getBoundingClientRect()).then(t=>{l.forEach(r=>{"auto"===e[r].width&&(e[r].width=t.width+"px"),"auto"===e[r].height&&(e[r].height=t.height+"px")}),r(e)})}r(e)}}};var K=Y;const Q=function(t,e=!0,r=null){var a=["width","height","top","right","bottom","left"],o=t=>t instanceof HTMLElement||t instanceof HTMLDocument,c={};if(Object(i._isObject)(t)&&Object(n._any)(["clientX","clientY","offsetX","offsetY","pageX","pageY","screenX","screenY"],e=>e in t))c=!1!==e?{width:0,height:0}:{},r===window||o(r)?(c.left=t.clientX,c.top=t.clientY):!0===r?(c.left=t.offsetX,c.top=t.offsetY):!1!==r&&(c.left=t.pageX,c.top=t.pageY);else if(t===window)c=!1!==e?{width:window.innerWidth,height:window.innerHeight}:{},r===window||!0===r||o(r)?(c.left=0,c.top=0):!1!==r&&(c.left=window.pageXOffset||document.documentElement.scrollLeft,c.top=window.pageYOffset||document.documentElement.scrollTop);else if(o(t))delete(c=t.getBoundingClientRect().toJSON()).x,delete c.y,delete c.right,delete c.bottom,!1===e&&(delete c.width,delete c.height),!0===r?r=t.offsetParent:!1===r?(delete c.left,delete c.top):r===window||o(r)||(c.left+=window.pageXOffset||document.documentElement.scrollLeft,c.top+=window.pageYOffset||document.documentElement.scrollTop);else{if(!Object(i._isObject)(t)||!Object(n._any)(a,e=>e in t))throw new Error("Unknown object type!");c=Object(s._copy)(t,a)}if(o(r)){var l=Q(r,!1,window);c.left-=l.left,c.top-=l.top}return c},X=function(t,e,r={}){var n=G(Q(r.using||t),e),i={x:"width",y:"height"},s={x:"left",y:"top"},a={x:"right",y:"bottom"},o={},c={};return["x","y"].forEach(t=>{if(!1!==r[t]){var e=n.rect1[i[t]];switch(c[t]=rt(r[t]||""),c[t].keyword){case"before":o[t]=-(n[s[t]]+e);break;case"after":o[t]=n[a[t]]+e;break;case"start":o[t]=-n[s[t]];break;case"end":o[t]=n[a[t]];break;default:o[t]=n.delta[t]}c[t].predicates&&(o[t]+=nt(c[t].predicates,e))}}),o.alignment=c,o.intersection=n,o},G=function(t,e){var r={left:t.left-e.left,top:t.top-e.top,right:e.left+e.width-(t.left+t.width),bottom:e.top+e.height-(t.top+t.height)},n=Math.max(t.left,e.left),i=Math.min(t.left+t.width,e.left+e.width),s=Math.max(t.top,e.top),a=Math.min(t.top+t.height,e.top+e.height);return r.width=i>n?i-n:0,r.height=a>s?a-s:0,r.rect1=t,r.rect2=e,r.delta=V(t,e),r},V=function(t,e,r=!1){var n={};return n.x=e.left+e.width/2-(t.left+t.width/2),n.y=e.top+e.height/2-(t.top+t.height/2),n.z=Math.sqrt(Math.pow(n.x,2)+Math.pow(n.y,2)),r&&(n=Object(s._merge)(n,J(n))),n},J=function(t){if(Object(i._isNumeric)(t.y)&&Object(i._isNumeric)(t.x))var e=Math.atan(t.y/t.x);else if(Object(i._isNumeric)(t.x)&&Object(i._isNumeric)(t.z))e=Math.acos(t.x/t.z);else if(Object(i._isNumeric)(t.y)&&Object(i._isNumeric)(t.z))e=Math.asin(t.y/t.z);var r=90-e;return{angle:e,angle2:r,isHorizontal:e<45,isVertical:r<45}},Z=function(t,e=["left","top","right","bottom"]){var r={right:"left",left:"right",bottom:"top",top:"bottom"},n=x(t,e.concat("position")),i=null;return e.forEach(e=>{"auto"===n[e]?"relative"===n.position?n[e]=-parseFloat(n[r[e]]):"fixed"===n.position?(i=i||G(Q(t),Q(window)),n[e]=i[e]):"absolute"===n.position&&(i=i||G(Q(t),Q(t.offsetParent)),n[e]=i[e]):n[e]=parseFloat(n[e])}),delete n.position,n},tt=function(t){var e=window.getComputedStyle(t),r="absolute"===e.position,n=/(auto|scroll)/;if("fixed"!==e.position)for(var i=t;i=i.parentElement;)if(e=window.getComputedStyle(i),(!r||"static"!==e.position)&&n.test(e.overflow+e.overflowY+e.overflowX))return i;return document.body},et=function(t){return t===window?t.pageYOffset||t.pageYOffset:t.scrollHeight>t.clientHeight},rt=function(t){var e=new RegExp("(before|after|start|end|center)","g"),r=new RegExp("[-+][0-9]+(%)?","g");return{keyword:(t.match(e)||[])[0],predicates:t.match(r)}},nt=function(t,e){return t.reduce((t,r)=>t+(r.endsWith("%")?parseFloat(r)/100*e:parseFloat(r)),0)};const it=class{static from(t){return new it(function(t){if(Object(i._isString)(t)){var e;if(t.trim().startsWith("<")){var r=document.createElement("div");r.innerHtml=t,e=r.firstChild}else e=l(t);return e}return t}(t))}constructor(t){this.el=t}_el(){return this.el||document.createElement("div")}_ret(t){return this.el&&t===this.el?this:t}find(t){return new it(this.el?l(t,this.el):void 0)}data(t,e=null){return this._ret(h(this._el(),...arguments))}css(...t){return this._ret(C(this._el(),...arguments))}attr(t,e=null,r=null){return this._ret(f(this._el(),...arguments))}html(t=null){return this._ret(d(this._el(),...arguments))}text(t=null){return this._ret(b(this._el(),...arguments))}append(t){return this._ret(m(this._el(),t))}prepend(t){return this._ret(g(this._el(),t))}cssAsync(...t){return function(t,...e){return e.length>1&&Object(i._isString)(e[0])||Object(i._isObject)(e[0])?E(t,...e):k(t,...e)}(this._el(),...arguments).then(t=>this.el&&t===this.el?this:t)}attrAsync(t,e=null,r=null){return function(t,e,r=null,n=null){return 2===arguments.length?c.onwrite((t,e)=>{try{t(f(...arguments))}catch(t){e(t)}},!0):c.onread((t,e)=>{try{t(f(...arguments))}catch(t){e(t)}},!0)}(this._el(),...arguments).then(t=>this.el&&t===this.el?this:t)}htmlAsync(t){return function(t,e=null){return arguments.length>1?c.onwrite((t,e)=>{try{t(d(...arguments))}catch(t){e(t)}},!0):c.onread((t,e)=>{try{t(d(...arguments))}catch(t){e(t)}},!0)}(this._el(),...arguments).then(t=>this.el&&t===this.el?this:t)}textAsync(t){return function(t,e=null){return arguments.length>1?c.onwrite((t,e)=>{try{t(b(...arguments))}catch(t){e(t)}},!0):c.onread((t,e)=>{try{t(b(...arguments))}catch(t){e(t)}},!0)}(this._el(),...arguments).then(t=>this.el&&t===this.el?this:t)}appendAsync(t){return function(t,e){return c.onwrite((t,e)=>{try{t(m(...arguments))}catch(t){e(t)}},!0)}(this._el(),...arguments).then(()=>this)}prependAsync(t){return function(t,e){return c.onwrite((t,e)=>{try{t(g(...arguments))}catch(t){e(t)}},!0)}(this._el(),...arguments).then(()=>this)}cssComputeAsync(...t){return A(this._el(),...arguments)}cssTransaction(t){return function(t,e){return new j(t,e,(t,e)=>S(t,e),(t,e)=>E(t,e))}(this._el(),t)}observe(...t){return function(t,...e){return h(t,"eventController")||h(t,"eventController",new B(t)),h(t,"eventController").addListener(...e)}(this._el(),...arguments)}unobserve(...t){return function(t,...e){return!!h(t,"eventController")&&h(t,"eventController").removeListener(...e)}(this._el(),...arguments)}play(t,e={}){return"cancelForCss"in e||(e.cancelForCss=!0),new K(this._el(),t,e).play()}translateTo(t,e={}){var r=t instanceof it?t.el:t;return c.onread((t,n)=>{if(!this.el)return n();var i=function(t,e,r={}){var n=X(t,Q(e),r),i={from:new w({translate:[]}),to:new w({translate:[]}),current:{from:new w({translate:[]}),to:new w({translate:[]}),progress:{}}},s=x(t,"transform");return["x","y"].forEach((t,e)=>{t in n?(i.from.translate[e]=0,i.to.translate[e]=n[t]+s.translate[e],i.current.from.translate[e]=s.translate[e],i.current.to.translate[e]=n[t],i.current.progress[t]=Math.abs(s.translate[e]/(n[t]+s.translate[e]))):(i.from.translate[e]=s.translate[e],i.to.translate[e]=s.translate[e],i.current.from.translate[e]=s.translate[e],i.current.to.translate[e]=s.translate[e],i.current.progress[t]=0)}),i}(this.el,r,e);e.play?t(this.play([{transform:i.current.from},{transform:i.to}],e.play)):t(this.css({transform:i.to}))},!0)}offsetTo(t,e={}){var r=t instanceof it?t.el:t;return c.onread((t,i)=>{if(!this.el)return i();var a=function(t,e,r={}){var i=X(t,Q(e),r),a={x:"left",y:"top"},o={x:"right",y:"bottom"},c=Object(n._intersect)(["x","y"],Object.keys(i)).reduce((t,e)=>{switch(i.alignment[e].keyword){case"before":return r.alternateAnchors?Object(s._with)(t,a[e],i[e]):Object(s._with)(t,o[e],-i[e]);case"after":return r.alternateAnchors?Object(s._with)(t,o[e],-i[e]):Object(s._with)(t,a[e],i[e]);case"end":return Object(s._with)(t,o[e],-i[e]);default:return Object(s._with)(t,a[e],i[e])}},{}),l={from:{},to:{},current:{from:{},to:{},progress:{}}},u=Z(t,Object.keys(c));return["left","right","top","bottom"].forEach(t=>{t in c?(l.from[t]=0,l.to[t]=c[t]+u[t],l.current.from[t]=u[t],l.current.to[t]=c[t],l.current.progress[t]=Math.abs(u[t]/(c[t]+u[t]))):(l.from[t]="auto",l.to[t]="auto",l.current.from[t]="auto",l.current.to[t]="auto")}),l}(this.el,r,e);e.play?t(this.play([a.current.from,a.to],e.play)):t(this.css(a.to))},!0)}scrollTo(t,e={}){var r=t instanceof it?t.el:t;return c.onread((t,n)=>{if(!this.el)return n();var i=function(t,e,r={}){var n=r.scrollAnchor||tt(t);if(n=n===document.body?window:n,et(n)){var i=X(t,Q(e),r),s={scrollLeft:n[n===window?"pageXOffset":"scrollLeft"],scrollTop:n[n===window?"pageYOffset":"scrollTop"]};return["x","y"].forEach((t,e)=>{var r="x"===t?"scrollLeft":"scrollTop";t in i?(_coordsFormatted.from[r]=0,_coordsFormatted.to[r]=i[t]+s[r],_coordsFormatted.current.from[r]=s[r],_coordsFormatted.current.to[r]=i[t],_coordsFormatted.current.progress[t]=Math.abs(s[r]/(i[t]+s[r]))):(_coordsFormatted.from[r]=s[r],_coordsFormatted.to[r]=s[r],_coordsFormatted.current.from[r]=s[r],_coordsFormatted.current.to[r]=s[r],_coordsFormatted.current.progress[t]=0)}),_coordsFormatted}}(this.el,r,e);e.play&&console.log("scrollTo() does not currently support animation."),t(i.viewport.scrollTo(i.to.scrollLeft,i.to.scrollTop))},!0)}};e.a=it},function(t,e,r){"use strict";var n=r(1),i=r(0),s=r(2),a=r(5);const o=class extends a.a{constructor(t={},e={}){super(t,e);var r=(t,e=null)=>((t=Object(s._copy)(t,c)).path=o.parsePath(t.pathname),t.query=o.parseQuery(t.search),e?Object(s._with)(t,"state",e):t);window.addEventListener("popstate",t=>{setTimeout(()=>{this.set(r(document.location,window.history.state))},0)}),this.get("href")||this.set(r(document.location)),!this.get("state")&&window.history&&this.set("state",window.history.state),window.addEventListener("click",t=>{var e,r;(t.preventDefault(),(e=t.target.closest("a"))&&(r=e.getAttribute("href")))&&(this.route(r,null,e.getAttribute("target")).defaultPrevented&&t.preventDefault())})}route(t,e=null,r=null){var n=o.parseUrl(t);Object(i._isObject)(e)||(e=window.history.state);var a=this.set(Object(s._with)(Object(s._with)(n,"state",e),"target",r));return n.href===document.location.href?window.history.replaceState(e,"",t):window.history.pushState(e,"",t),a instanceof Promise&&a.catch(()=>{this.back()}),a}update(t){return window.history.replaceState(t,"",document.location),this.set("data",t)}forward(){window.history.forward()}back(){window.history.back()}go(t){window.history.go(t)}matches(t){var e=o.parseUrl(t);return(this.get("href")+"/").startsWith(e.href.endsWith("/")?e.href:e.href+"/")}static parseUrl(t){var e=document.createElement("a");e.href=t;var r=c.reduce((t,r)=>Object(s._with)(t,r,e[r]),{});return r.path=o.parsePath(r.pathname),r.query=o.parseQuery(r.search),r}static parsePath(t){var e=t.split("/").filter(t=>t),r="/"===t?t:"/"+e.join("/")+"/",i=Object(n._sort)(Object.keys(o.pathnaming),"desc").reduce((t,e)=>t||(r.startsWith("/"===e?e:"/"+e.split("/").filter(t=>t).join("/")+"/")?o.pathnaming[e]:null),null),a=e.reduce((t,e,r)=>i[r]?Object(s._with)(t,i[r],e):t,{});return{str:r,arr:e,obj:a}}static parseQuery(t){return(t.startsWith("?")?t.substr(1):t).split("&").map(t=>t.split("=").map(t=>t.trim())).reduce((t,e)=>Object(s._with)(t,e[0],e[1]),{})}},c=["hash","host","hostname","href","origin","pathname","port","protocol","search"];o.pathnaming={"/":["controller","resourceType","resourceId","action"]},e.a=o},function(t,e,r){"use strict";var n=r(0),i=r(2),s=r(3),a=r(1);const o={std:{html:{type:["#sectioning-root"],model:["head","body"],singleton:!0},caption:{model:["#flow","!table"],singleton:!0},col:{model:["#nothing"]},colgroup:{model:[{"colgroup[span]":["#nothing"]},{":not(colgroup[span])":["col","template"]}],singleton:!0},dd:{model:["#flow"],implicitRole:"definition"},dt:{model:["#flow","!#heading","!#sectioning","!header","!footer"],implicitRole:"term"},figcaption:{model:["#flow"],singleton:!0},head:{model:["#metadata"],singleton:!0},legend:{model:["#phrasing"],singleton:!0},li:{model:["#flow"],implicitRole:"listitem"},optgroup:{model:["option","#script-supporting"],implicitRole:"group"},option:{model:[{"option[label][value]":["#nothing"]},{"option[label]:not(option[value])":["#text"]},{":not(option[label])":["#text"]}]},param:{model:["#nothing"]},rp:{model:["#text"]},rt:{model:["#phrasing"]},source:{model:["#nothing"]},summary:{model:["#phrasing","#heading"],singleton:!0},track:{model:["#nothing"]},tbody:{model:["#script-supporting","tr"]},td:{model:["#flow","!#heading","!#sectioning","!header","!footer"]},tfoot:{model:["tr","#script-supporting"],singleton:!0},thead:{model:["tr","#script-supporting"],singleton:!0},tr:{model:["#script-supporting","td","th"]},a:{type:["#flow","#phrasing",{"a[href]":["#interactive","#palpable"]}],model:["#transparent","!#interactive","!a"]},abbr:{type:["#flow","#palpable","#phrasing"],model:["#phrasing"]},address:{type:["#flow","#palpable"],model:["#flow","!#heading","!#sectioning","!header","!footer","!address"]},area:{type:["#flow","#phrasing"],model:["#nothing"]},article:{type:["#flow","#palpable","#sectioning-content"],model:["#flow"],implicitRole:"article",acceptableRoles:["application","article","document","main"]},aside:{type:["#flow","#palpable","#sectioning-content"],model:["#flow"],implicitRole:"complementary",acceptableRoles:["complementary","note","search"]},audio:{type:["#embedded","#flow","#phrasing",{"audio[controls]":["#interactive","#palpable"]}],model:["#transparent","!#media","track",{":not(audio[src])":["source"]}]},b:{type:["#flow","#palpable","#phrasing"],model:["#phrasing"]},base:{type:["#metadata"],model:["#nothing"],singleton:!0},bdi:{type:["#flow","#palpable","#phrasing"],model:["#phrasing"]},bdo:{type:["#flow","#palpable","#phrasing"],model:["#phrasing"]},blockquote:{type:["#flow","#palpable","#sectioning-root"],model:["#flow"]},body:{type:["#sectioning-root"],model:["#flow","@banner","@contentinfo","@complementary","@main"],singleton:!0},br:{type:["#flow","#phrasing"],model:["#nothing"]},button:{type:["#flow","#interactive","#palpable","#phrasing"],model:["#phrasing","!#interactive"]},canvas:{type:["#embedded","#flow","#palpable","#phrasing"],model:["#transparent","!#interactive","a","img[usemap]","button",'input[type="button"]','input[type="radio"]','input[type="checkbox"]',"select[multiple]","select[size>=1]","[tabindex]!#interactive"]},cite:{type:["#flow","#palpable","#phrasing"],model:["#phrasing"]},code:{type:["#flow","#palpable","#phrasing"],model:["#phrasing"]},data:{type:["#flow","#palpable","#phrasing"],model:["#phrasing"]},datalist:{type:["#flow","#phrasing"],model:["#phrasing","#script-supporting","option"]},del:{type:["#flow","#phrasing"],model:["#transparent"]},details:{type:["#flow","#interactive","#palpable","#sectioning-root"],model:["#flow","summary"]},dfn:{type:["#flow","#palpable","#phrasing"],model:["#phrasing","!dfn"],implicitRole:"term"},dialog:{type:["#flow","#sectioning-root"],model:["#flow"],implicitRole:"dialog"},div:{type:["#flow","#palpable"],model:[{"dl > div":["dt","dd"]},{":not(dl > div)":["#flow"]}]},dl:{type:["#flow"],model:["#script-supporting","dl","dt","div"]},em:{type:["#flow","#palpable","#phrasing"],model:["#phrasing"]},embed:{type:["#embedded","#flow","#phrasing","#interactive","#palpable"],model:["#nothing"]},fieldset:{type:["#flow","#sectioning-root","#palpable"],model:["legend","#flow"]},figure:{type:["#flow","#sectioning-root","#palpable"],model:["#flow","figcaption"],implicitRole:"figure"},footer:{type:["#flow","#palpable"],model:["#flow","!header","!footer"],acceptableRoles:["contentinfo"],singleton:!0},form:{type:["#flow","#palpable"],model:["#flow","!form"]},h1:{type:["#flow","#heading","#palpable"],model:["#phrasing"],implicitRole:"heading"},h2:{type:["#flow","#heading","#palpable"],model:["#phrasing"],implicitRole:"heading"},h3:{type:["#flow","#heading","#palpable"],model:["#phrasing"],implicitRole:"heading"},h4:{type:["#flow","#heading","#palpable"],model:["#phrasing"],implicitRole:"heading"},h5:{type:["#flow","#heading","#palpable"],model:["#phrasing"],implicitRole:"heading"},h6:{type:["#flow","#heading","#palpable"],model:["#phrasing"],implicitRole:"heading"},header:{type:["#flow","#palpable"],model:["#flow","!header","!footer"],acceptableRoles:["banner"],singleton:!0},hgroup:{type:["#flow","#heading","#palpable"],model:["h1","h2","h3","h4","h5","h6","#script-supporting"]},hr:{type:["#flow"],model:["#nothing"],implicitRole:"separator"},i:{type:["#flow","#palpable","#phrasing"],model:["#phrasing"]},iframe:{type:["#embedded","#flow","#phrasing","#interactive","#palpable"],model:["#nothing"]},img:{type:["#embedded","#flow","#phrasing",{"img[usemap]":["#interactive","#palpable"]}],model:["#nothing"]},input:{type:["#flow","#phrasing",{'input:not([type!="hidden"])':["#interactive","#palpable"]}],model:["#nothing"]},ins:{type:["#flow","#phrasing","#palpable"],model:["#transparent"]},kbd:{type:["#flow","#phrasing","#palpable"],model:["#phrasing"]},label:{type:["#flow","#phrasing","#interactive","#palpable"],model:["#phrasing","!label"]},link:{type:["#metadata",{"body link":["#flow","#phrasing"]}],model:["#nothing"]},main:{type:["#flow","#palpable"],model:["#flow"],implicitRole:"main",singleton:!0},map:{type:["#flow","#phrasing","#palpable"],model:["#transparent"]},mark:{type:["#flow","#phrasing","#palpable"],model:["#transparent"]},math:{type:["#embedded","#flow","#phrasing","#palpable"],model:[]},menu:{type:["#flow",{":contains(> li)":["#palpable"]}],model:["#script-supporting","li"],implicitRole:"list"},meta:{type:["#metadata",{"meta[itemprop]":["#flow","#phrasing"]}],model:["#nothing"],names:["application-name","author","description","generator","keywords","referrer","theme-color"]},meter:{type:["#flow","#labelable","#phrasing","#palpable"],model:["#phrasing","!meter"]},nav:{type:["#flow","#sectioning-content","#palpable"],model:["#flow"],implicitRole:"navigation",acceptableRoles:["navigation"]},noscript:{type:["#metadata","#flow","#phrasing"],model:[{"head link":["style","meta","link"]},{":not(head link)":["#transparent","!noscript"]}]},object:{type:["#embedded","#flow","#phrasing",{"object[usemap]":["#interactive","#palpable"]}],model:["#transparent","param"]},ol:{type:["#flow",{":contains(> li)":["#palpable"]}],model:["#script-supporting","li"],implicitRole:"list"},output:{type:["#flow","#labelable","#phrasing","#palpable"],model:["#phrasing","!meter"]},p:{type:["#flow","#palpable"],model:["#phrasing"]},picture:{type:["#embedded","#flow","#phrasing"],model:["source","img","#acript-supporting"]},pre:{type:["#flow","#palpable"],model:["#phrasing"]},progress:{type:["#flow","#labelable","#phrasing","#palpable"],model:["#phrasing","!progress"]},q:{type:["#flow","#phrasing","#palpable"],model:["#phrasing"]},ruby:{type:["#flow","#phrasing","#palpable"],model:["rp","rt"]},s:{type:["#flow","#phrasing","#palpable"],model:["#phrasing"]},samp:{type:["#flow","#phrasing","#palpable"],model:["#phrasing"]},script:{type:["#flow","#metadata","#phrasing","#acript-supporting"],model:[{"script[src]":[]}]},section:{type:["#flow","#sectioning-content","#palpable"],model:["#flow"],implicitRole:"region",acceptableRoles:["alert","alertdialog","application","contentinfo","dialog","document","log","main","marquee","region","search","status"]},select:{type:["#flow","#interactive","#labelable","#phrasing","#palpable"],model:["option","optgroup","#acript-supporting"]},slot:{type:["#flow","#phrasing"],model:["#transparent"]},small:{type:["#flow","#phrasing","#palpable"],model:["#phrasing"]},span:{type:["#flow","#phrasing","#palpable"],model:["#phrasing"]},strong:{type:["#flow","#phrasing","#palpable"],model:["#phrasing"]},style:{type:["#metadata"],model:["#text"]},sub:{type:["#flow","#phrasing","#palpable"],model:["#phrasing"]},sup:{type:["#flow","#phrasing","#palpable"],model:["#phrasing"]},svg:{type:["#embedded","#flow","#phrasing","#palpable"],model:[]},table:{type:["#flow","#palpable"],model:["caption","colgroup","thead","tbody","tr","tfoot","#script-supporting"]},td:{type:["#sectioning-root"],model:["#flow"]},template:{type:["#metadata","#flow","#phrasing","#script-supporting"],model:["#nothing"]},textarea:{type:["#flow","#interactive","#labelable","#phrasing","#palpable"],model:["#text"]},time:{type:["#flow","#phrasing","#palpable"],model:[{"time[datetime]":["#phrasing"]},{":not(time[datetime])":["#text"]}]},title:{type:["#metadata"],model:["#text"],singleton:!0},u:{type:["#flow","#phrasing","#palpable"],model:["#phrasing"]},ul:{type:["#flow",{":contains(> li)":["#palpable"]}],model:["#script-supporting","li"],implicitRole:"list"},var:{type:["#flow","#phrasing","#palpable"],model:["#phrasing"]},video:{type:["#embedded","#flow","#phrasing",{"video[controls]":["#interactive","#palpable"]}],model:["#transparent","!#media","track",{":not(video[src])":["source"]}]},wbr:{type:["#flow","#phrasing"],model:["#nothing"]}},aria:{banner:{type:["@banner"],singleton:!0},contentinfo:{type:["@contentinfo"],singleton:!0},complementary:{type:["@complementary"],singleton:!0},navigation:{type:["@navigation"],singleton:!0},list:{type:["@list"]},listitem:{type:["@listitem"]}},getContentModelFor(t){var e=t.nodeName.toLowerCase();return o.std[e]?o.expandRules(t,o.std[e].model||[]):[]},getCategoriesFor(t,e=!0){var r=t.nodeName.toLowerCase(),n=o.std[r]||o.aria[r]||{},i=[];if(e&&!t.nodeName.startsWith("#")&&(t.hasAttribute("role")||n.implicitRole))if(t.hasAttribute("role")){t.getAttribute("role").split(" ");t.getAttribute("role").split(" ").forEach(e=>{n&&n.acceptableRoles&&!n.acceptableRoles.includes(e)||(e=e.trim(),i.push("@"+e),o.aria[e]&&o.aria[e].type&&(i=i.concat(o.expandRules(t,o.aria[e].type||[]))))})}else n.implicitRole&&Object(a._pushUnique)(i,"@"+n.implicitRole,r);else i=Object(a._pushUnique)(o.expandRules(t,n.type||[]),r);return i},assertNodeBelongsInContentModel(t,e){var r,n=t instanceof HTMLElement?o.getContentModelFor(t):t,i=e instanceof HTMLElement?o.getCategoriesFor(e):e;return!Object(a._intersect)(n,["#nothing","#text"]).length&&(n.forEach(t=>{if(t.startsWith("!")){var e=t.substr(1);i.includes(e)&&(r=!1)}else!1!==r&&i.includes(t)&&(r=!0)}),r&&!0)},assertNodeBelongsInScopeAs(t,e,r=null){for(var n,i=o.getCategoriesFor(t),s=e;!n&&(s=s.parentNode);)Object(a._intersect)(i,o.getCategoriesFor(s)).length&&o.assertNodeBelongsInContentModel(s,r&&r.type||e)&&(n=s);return n===t},expandRules(t,e){var r=e.reduce((e,r)=>(Object(n._isObject)(r)?t.matches(Object.keys(r)[0])&&(e=e.concat(Object.values(r)[0])):e.push(r),e),[]);return r.includes("#sectioning-root")&&r.push("#sectioning-content"),r}};var c=o;const l=class{constructor(t,e,r,n=null){this.sources=Object(a._from)(t),this.namespace=Object(a._from)(e),this.getter=r,this.carry=n,this.collections={},this.value}enter(t){return t in this.collections||(this.collections[t]=new l(this.sources,this.namespace.concat(t),this.getter,this)),this.collections[t]}leave(){return this.carry}get(){if(!this.value){var t=this.namespace.slice(),e=this.carry?this.carry.get():null;this.sources.forEach((r,n)=>{(e=this.getter.call(null,r,t,e,n))&&(this.value=e)})}return this.value}find(t){for(var e,r,n=t.split("/"),i=this;(r=n.shift())&&(i=i.enter(r));)e=i;var s=e.get();if(s)return s.cloneNode(!0)}};var u=l,h=r(4),p=r(6);const f=class{constructor(t,e,r=null){this.key=t,this.value=e,this.flag=r}toString(t=null){return this.key+": "+this.value+(this.flag?" "+this.flag:"")}static parse(t,e={}){if(t){var r=Object(i._copy)(e);r.limit=1;var n=h.e.split(t,[":"],r);if(n.length<2)throw new Error("Malformed def: "+t);var s,o,c=n.shift().trim(),l=h.e.split(n.shift().trim(),[" "],e);return l.length>1&&f.flags.includes(Object(a._last)(l).trim().toLowerCase())&&(o=l.pop().trim().toLowerCase()),s=l.join(" "),new f(c,s,o)}}};f.flags=["!replace","!incase"];var d=f;const b=class{constructor(t=[]){this.entries=[],t.forEach(t=>this.add(t))}filter(t=!1,e=!1){return this.entries.filter(r=>(!r.isDuplicate||t)&&(!r.overridden||e))}toString(t=null,e=!1,r=!0){return this.filter(e,r).map(e=>e.toString(t)).join("; ")+";"}add(t){if(!t.key||!t.value)throw new Error("Def must contain a valid key and value!");return t instanceof d||(t=new d(t.key,t.value,t.flag)),this.entries.forEach(e=>{if(!e.isDuplicate&&!e.overridden){var r=e.key.toString(),n=e.value.toString(),i=Object(s._wrapped)(n,"(",")")?Object(s._unwrap)(n,"(",")"):n,a=t.key.toString(),o=t.value.toString(),c=Object(s._wrapped)(o,"(",")")?Object(s._unwrap)(o,"(",")"):o,l="!incase"===(e.flag||"").toLowerCase(),u="!replace"===(e.flag||"").toLowerCase(),h="!incase"===(t.flag||"").toLowerCase(),p="!replace"===(t.flag||"").toLowerCase();r===a&&(n!==o&&i!==c||u!==p&&l!==h?p||l?e.overridden=!0:(u||h)&&(t.overridden=!0):t.isDuplicate=!0)}}),this.entries.push(t),this}static parse(t,e={}){return new b(h.e.split(t,[";"],e).filter(t=>t.trim()).map(t=>d.parse(t.trim())))}};var m=b;const g=class{constructor(t={}){this.block={},this.apply(t)}toString(t=null,e=!1,r=!0){var n=[];return Object(i._each)(this.block,(i,s)=>{n.push("@"+i),n.push("{"+s.toString(t,e,r)+"}")}),n.join(" ")}apply(t){var e=t;if(t instanceof g)e=t.block;else if(!Object(n._isObject)(t))throw new Error("Argument #1 must only be an object or an instance of ./DefSheet!");return Object(i._each)(e,(t,e)=>{this.applyTo(t,e)}),this}applyTo(t,e){var r=e;if(e instanceof m)r=e.entries;else if(!Object(n._isArray)(e))throw new Error("Argument #1 must only be an array or an instance of ./DefBlock!");return this.block[t]||(this.block[t]=new m),r.forEach(e=>this.block[t].add(Object(i._copy)(e))),this}static parse(t,e={}){for(var r,n,i=h.e.split(t,[],e),a={};(r=i.shift())&&(n=i.shift());)a[r.trim().toLowerCase().substr(1)]=m.parse(Object(s._unwrap)(n.trim(),"{","}"),e);return new g(a)}};var v=g;const O=class extends p.b{constructor(t,e={}){if(super({},e),this.root=this.el=t,"#document"===t.nodeName)this.el=t.querySelector("html");else if(!(t instanceof HTMLElement))throw new Error("Argument #1 must be instanceof of HTMLElement or the document object!");this.$.ns=O.parseNamespace(this.el),this.$.defs=O.parseCascadedDefSheet(this.el),this.init()}init(){this.free(!1),this.getCpsBlock("init",!0).forEach(t=>t.eval(this)),this.$.bindingsListeners=[];return this.getCpsBlock("bindings",!0).forEach(t=>{this.$.params.observeOnly||t.eval(this,this.jsenGetter());var e,r=this.observe((e=t.meta.vars,Object(a._unique)(e.map(t=>Object(s._before)(Object(s._before)(t.toString(),"["),"(")))),(e,r,n)=>{var i=t.eval(this,this.jsenGetter());if(!1!==i)return i},{diff:this.$.params.diff});this.$.bindingsListeners.push(r)}),this}free(t=!0){return t?super.removeListener():this.$.bindingsListeners&&(this.$.bindingsListeners.forEach(t=>t.remove()),this.$.bindingsListeners.splice()),this}clone(t=!0){if(!Object(n._isFunction)(this.$.params.componentCallback))throw new Error("The params.componentCallback function is required!");var e,r=this.el.cloneNode(!0),s={};[O.attributeMap.related,O.attributeMap.bindings].forEach(t=>{var e;(e=r.getAttribute(t))&&(s.type=e,r.removeAttribute(t))}),(e=Object(a._from)(r.children).filter(t=>t.matches(O.elementMap.defsheet))[0])&&e.remove();var o=this.$.params.componentCallback(r,this.$.params,!1);return(Object(n._isProxy)(o)?Object(n._getProxyTarget)(o):o).$defs=v.parse(this.$.defs.toString(null,!t,!0)),Object(i._each)(s,(t,e)=>{r.setAttribute(t,e)}),e&&r.prepend(e),o}getCpsBlock(t,e=!1){var r=this.$.defs.block[t]?this.$.defs.block[t].filter():[];if(e){var n=[];return r.forEach(t=>{var e=(!1!==this.$.params.chainableDirectives&&t.value.trim().startsWith("(")?h.e.split(t.value,["."]):[t.value]).map(t=>h.g.parse(t,[h.a],{assert:!1})||h.g.parse(t));if(e.length===e.filter(t=>t).length){var r,i=t.key+(e.length>1||e[0]instanceof h.b?e.join("."):"("+e[0].toString()+")");(r=h.g.parse(i,null,{explain:this.$.params.explainJsen}))?n.push(r):this.error("Malformed CPS expression: "+t.toString())}else this.error("Malformed argument in the CPS expression: "+t.toString())}),n}return r}getRelatedNode(t){var e,r;if(this.computedRelated||(this.computedRelated={},this.getCpsBlock("related",!1).forEach(t=>{this.computedRelated[t.key]=h.g.parse(t.value)})),(e=this.computedRelated[t])&&(r=e.eval(this,this.jsenGetter([])))){if(Object(n._isFunction)(r)&&(r=r(this.el,t),!(Object(n._isString)(r)||r instanceof HTMLElement)))throw new Error('The callback for node "'+t+'" returned an invalid type.');if(Object(n._isString)(r)&&(r=O.toElement(r)),!(r instanceof HTMLElement))throw new Error('"'+t+'" could not be resolved to a valid node instance.');return r}}getExplicitNode(t){if(this.$.roles&&this.$.roles.length||(this.$.roles=(this.el.getAttribute(O.attributeMap.superrole)||"").replace("  "," ").split(" ")).length)return(this.$.params.rolecase?[this.$.params.rolecase]:this.$.roles).reduce((e,r)=>{if(!e){var n,i,s="["+O.attributeMap.superrole+'~="'+r+'"]',a="["+O.attributeMap.subrole+'~="'+r+"-"+t+'"]';(i=(this.el.shadowRoot||this.el).querySelector(a))&&(this.el.shadowRoot&&(!i.parentNode.closest||!i.parentNode.closest(s))||!this.el.shadowRoot&&i.parentNode&&(n=i.parentNode.closest(s))&&n.isSameNode(this.el))&&(e=i)}return e},null)}getImplicitNode(t){if(!t.match(/[^a-zA-Z0-9\-]/)){var e=[];O.schema.aria[t]?e.push({schema:O.schema.aria[t],selector:['[role="'+t+'"]']}):e.push({schema:O.schema.std[t]||O.schema.aria[t],selector:[t,'[role="'+t+'"]']}),Object(i._each)(O.schema.std,(r,n)=>{n.implicitRole===t&&e.push({schema:n,selector:[r]})});var r=null;return e.forEach(t=>{(this.el.shadowRoot||this.el).querySelectorAll(t.selector.join(",")).forEach(e=>{O.schema.assertNodeBelongsInScopeAs(this.el,e,t.schema)&&(t.schema&&t.schema.singleton?r=e:r&&!Object(n._isArray)(r)||(r=r||[]).push(e))})}),r}}createNode(t,e){var r=e;if(this.$.params.drilldown){if(e===this.root||e===this.el)e=this;else if(e){if(!Object(n._isFunction)(this.$.params.componentCallback))throw new Error("The params.componentCallback function is required!");var s=Object(i._copy)(this.$.params);s.alias=t,e=Object(n._isArray)(e)?e.map(t=>this.$.params.componentCallback(t,s,!0)):this.$.params.componentCallback(e,s,!0)}}else Object(n._isFunction)(this.$.params.nodeCallback)&&(e=Object(n._isArray)(e)?e.map(t=>this.$.params.nodeCallback(t)):this.$.params.nodeCallback(e));return this.set(t,e),r&&r!==this.root&&r!==this.el&&!Object(n._isArray)(r)&&O.disconnectedCallback(r,()=>{this.del(t)}),e}get(t){var e,r=this.asOwnMethod(t);return r||("_"===t||"__"===t?super.get(t):"root"===t&&(e=this.root)||"el"===t&&(e=this.el)?Object(n._isFunction)(this.$.params.nodeCallback)?this.$.params.nodeCallback(e):e:(t in this.$.state||((e=this.getRelatedNode(t))||!this.$.params.implicitOnly&&(e=this.getExplicitNode(t))||!this.$.params.explicitOnly&&(e=this.getImplicitNode(t)))&&this.createNode(t,e),this.$.state[t]))}static parseNamespace(t){var e={roadmap:t.getAttribute(O.attributeMap.ns)};return e.roadmap&&(e.namespace=Object(s._before)(e.roadmap,"//"),e.subnamespace=Object(s._after)(e.roadmap,"//"),e.subnamespace.startsWith("/")&&(e.subnamespace=Object(s._after)(e.subnamespace,"/")),e.subnamespace.endsWith("//")&&-1===e.subnamespace.indexOf("///")&&(e.subnamespace=e.subnamespace+e.namespace+"//")),e}static parseCascadedDefSheet(t){var e,r,n,i;return(e=Object(a._from)(t.children).filter(t=>t.matches(O.elementMap.defsheet))[0])&&(r=v.parse((e.textContent||"").trim()))||(r=new v),["related","bindings"].forEach(e=>{(n=t.getAttribute(O.attributeMap[e]))&&(i=m.parse(n))&&r.applyTo(e,i)}),r}static recompose(t,e){if(t.matches(O.elementMap.import)){e=e.cloneNode(!0);var r=t.getAttribute(O.attributeMap.ns),n=e.getAttribute(O.attributeMap.ns),i=(e.getAttribute(O.attributeMap.superrole)||"").split(" ").map(t=>t.trim());return e.setAttribute(O.attributeMap.ns,r),O.recomposeDefs(e,t,"append"),Object(a._from)((t.shadowRoot||t).children).forEach((t,s)=>{if(!t.matches(O.elementMap.defsheet)){t=t.cloneNode(!0);var a=[],o=[];if((t.getAttribute(O.attributeMap.subrole)||"").split(" ").map(t=>t.trim()).forEach(t=>{var e=i.filter(e=>t.startsWith(e+"-"));e.length&&(a.push(e[0]),o.push(t))}),a.length){var c,l=a.map(t=>"["+O.attributeMap.superrole+'~="'+t+'"]'),u=o.map(t=>"["+O.attributeMap.subrole+'~="'+t+'"]');if(!(e.shadowRoot&&(c=e.shadowRoot.querySelectorAll(u))||1===(c=e.querySelectorAll(u)).length&&c[0].closest(l)===e))return void this.error("Composition Error: Node #"+s+" (at "+r+") must match exactly one targetNode in "+n+"! ("+c.length+" matched)");O.recomposeDefs(t,c[0],"prepend"),c[0].replaceWith(t)}else e.append(t)}}),e}return O.recomposeDefs(t,e,"prepend"),t}static recomposeDefs(t,e,r,i=[]){if(i=i.concat([O.attributeMap.ns,...O.attributeMap.nocompose]),t.hasAttribute("norecompose")&&(i=i.concat((t.getAttribute("norecompose")||"*").split(" ").map(t=>t.trim()))),Object(n._isFunction)(O.recomposeCallback)){var s=O.recomposeCallback(t,e,r,i);if(!1===s)return!1;(Object(n._isString)(s)||Object(n._isArray)(s))&&(i=i.concat(s))}Object(a._unique)([O.attributeMap.superrole,O.attributeMap.subrole,"role","class"]).forEach(n=>{var s,o;if(!i.includes(n)&&!i.includes("*")&&(s=e.getAttribute(n))){if(o=t.getAttribute(n))var c="prepend"===r?[s,o]:[o,s];else c=[s];t.setAttribute(n,Object(a._unique)(c.join(" ").split(" ").map(t=>t.trim())).join(" ")),i.push(n)}}),[O.attributeMap.related,O.attributeMap.bindings,"style"].forEach(n=>{var s,a;if(!i.includes(n)&&!i.includes("*")&&(s=e.getAttribute(n))){if(a=t.getAttribute(n))(o="prepend"===r?[s,a]:[a,s])[0].trim().endsWith(";")||(o[0]=o[0]+";");else var o=[s];t.setAttribute(n,o.join(" ")),i.push(n)}});for(var o=0;o<e.attributes.length;o++){var c=e.attributes[o];i.includes(c.name)||i.includes("*")||t.hasAttribute(c.name)||(t.setAttribute(c.name,c.value),i.push(c.name))}if(!i.includes("@cps")&&!i.includes("*")){var l=Object(a._from)((t.shadowRoot||t).children).filter(t=>t.matches(O.elementMap.defsheet)),u=Object(a._from)((e.shadowRoot||e).children).filter(t=>t.matches(O.elementMap.defsheet));u.length&&(l.length?l[0][r](u[0].textContent):t.prepend(u[0].cloneNode(!0)))}return!0}static toElement(t){if(O.ctxt.document){var e;if(t.trim().startsWith("<")){var r=O.ctxt.document.createElement("div");r.innerHtml=t,e=r.firstChild}else e=O.ctxt.document.querySelector(t);return e}}static disconnectedCallback(t,e){if(t.parentNode){var r=!1;new MutationObserver(n=>{n.forEach(n=>{!r&&Object(a._from)(n.removedNodes).includes(t)&&(r=!0,e())})}).observe(t.parentNode,{childList:!0}),O.disconnectedCallback(t.parentNode,()=>{r||(r=!0,e())})}}};O.ctxt={},O.schema=c,O.elementMap={defsheet:'script[type="application/chtml-cps"]',bundle:"chtml-bundle",import:"chtml-import"},O.attributeMap={ns:"chtml-ns",related:"chtml-related",bindings:"chtml-bindings",superrole:"chtml-role",subrole:"chtml-role",nocompose:["nocompose","shadow"]};var _=O;r(7);const j=class extends _{constructor(t,e={}){super(t,Object(i._inherit)({},e,j.params)),this.observe(this.$.params.dataKey,(t,e)=>{!this.$.ns.subnamespace||Object(n._isString)(t)||Object(n._isNumber)(t)||Object(n._isUndefined)(t)||(this.populate(t,this.$.ns.subnamespace,this.$.params.itemCallback),Object(n._isObservable)(t)&&t.observe(e=>{this.populate(t,this.$.ns.subnamespace,this.$.params.itemCallback,Object.keys(e))}))})}bind(t){return this.set(this.$.params.dataKey,t),this}populate(t,e,r=null,i=[]){Object(n._isObservable)(t)&&!Object(n._isProxy)(t)&&(t=t.proxy()),(arguments.length>3?i:Object.keys(t)).forEach(i=>{i=Object(n._isNumeric)(i)?parseInt(i):i;var s=this.has(i)?this.get(i):null;if(Object(n._isUndefined)(t[i])){if(s)if(Object(n._isFunction)(r)){var o=r(s,!1,i);"Promise"in _.ctxt&&o instanceof _.ctxt.Promise?o.then(()=>{s.el.remove()}).catch(()=>{s.el.remove()}):s.el.remove()}else s.free(),s.el.remove()}else{var c=!1;if(!s){var l=e.split("//");l[0]+="/"+i;var u=j.import(l.join("//"));if(u){var h=Object(a._following)(Object.keys(t),i+"",!0).reduce((t,e)=>t||(this.has(e)?this.get(e):null),null);h?h.el.before(u):this.el.append(u),s=this.createNode(i,u),c=!0}}s&&(Object(n._isFunction)(r)?r(s,t[i],i,c):s.bind(t[i]))}})}static from(t,e={},r=!0,i=j){var a=t;if(Object(n._isString)(t)&&!t.trim().startsWith("<")&&-1!==t.indexOf("/")){if(!_.bundles||!(a=j.import(Object(s._before)(t,"//"))))throw new Error('No element found on the namespace "'+t+'"!')}else{if(Object(n._isString)(t)&&!(a=_.toElement(t)))throw new Error('Could not resolve the string "'+t+'" to an element!');if(r&&_.bundles){var o,c,l,u=a.matches(_.elementMap.import);if((o=Object(s._before)(a.getAttribute(_.attributeMap.ns)||"","//"))&&(u&&(c=o)||(c=Object(s._beforeLast)(o,"/"))&&c.indexOf("/")>-1)&&(l=j.import(c))){var h=a;a=_.recompose(a,l),u&&h.replaceWith(a)}else o&&console.warn("Namespace resolution failed: "+o)}}return new i(a,e)}static import(t){return _.bundles.find(t)}};j.params={diff:!0,dataKey:"$",drilldown:!1,nodeCallback:null,componentCallback:j.from,observeOnly:!1};var y=j;_.ctxt=window;var w=new Promise(t=>{"complete"!==document.readyState?(document.addEventListener("DOMContentLoaded",t,!1),window.addEventListener("load",t,!1)):t()});_.ready=(t,e=!0)=>{w.then(()=>{e?_.initObj.loadingBundlesPromise.then(t):t()})},w.then(()=>{var t,e,r,n,i;_.initObj=(t=Object(a._from)(document.querySelectorAll('template[is="'+_.elementMap.bundle+'"]')).reverse(),e=t.filter(t=>t.hasAttribute("src")&&!t.content.children.length),r=e.map(t=>new Promise(e=>{t.addEventListener("bundleloadsuccess",e),t.addEventListener("bundleloaderror",e)})),n=Promise.all(r).then(()=>{r.splice(0)}),{contentLoadedPromise:w,loadingBundlesPromise:n,bundles:t,remoteBundles:e,loadingBundles:r});var s=[];_.bundles=new u(_.initObj.bundles,[],(t,e,r,n)=>{_.initObj.loadingBundles.length&&!i&&(i=!0,console.warn("Remote bundles are still loading at this time! You should probabbly wrap bundle-dependent code within Chtml.ready(callback[, true/*waitForBundles*/])."));var a=e.join("/");if(s.includes(a))return _.bundles.find(e.slice(0,-1).join("/"));s.push(a);var o=t.content.querySelector("["+_.attributeMap.ns+'="'+a+'"]');if(o&&r){try{var c=[];t.hasAttribute("norecompose")&&(c=(t.getAttribute("norecompose")||"*").split(" ").map(t=>t.trim())),o=_.recompose(o,r,"prepend",c)}catch(t){console.error("[Inheritance error at source #"+n+"]: "+t.message)}return s.pop(),o}return s.pop(),o?o.cloneNode(!0):r?r.cloneNode(!0):null})}),customElements.define(_.elementMap.bundle,class extends HTMLTemplateElement{attributeChangedCallback(t,e,r){r&&this.load()}load(){var t=this.getAttribute("src");t&&this.content.children.length?console.warn("A CHTML bundle must define only either a remote content or local content! Bundle ignored."):t&&fetch(t).then(t=>t.ok?t.text():Promise.reject(t.statusText)).then(t=>{this.innerHTML=t,this.dispatchEvent(new Event("bundleloadsuccess"))}).catch(e=>{console.warn("Error fetching the bundle at "+t+". ("+e+")"),this.dispatchEvent(new Event("bundleloaderror"))})}static get observedAttributes(){return["src"]}},{extends:"template"}),customElements.define(_.elementMap.import,class extends HTMLElement{shouldResolve(){return!this.hasAttribute("ondemand")&&!this.closest("template")&&!this.closest(_.elementMap.import+"[ondemand]")}connectedCallback(){this.processed=!1,this.shouldResolve()&&this.resolve()}attributeChangedCallback(t,e,r){this.shouldResolve()&&this.resolve()}resolve(){y.ready(()=>{if(!this.parentNode)return!1;var t,e,r=_.attributeMap.ns;if((e=Object(s._before)(this.getAttribute(r)||"","//"))&&e!==this.__namespace)if(this.__namespace=e,t=y.import(e)){var n=_.recompose(this,t);this.hasAttribute("shadow")?(this.parentNode.shadowRoot||this.parentNode.attachShadow({mode:"open"}),this.parentNode.shadowRoot.append(n),this.remove()):this.replaceWith(n)}else this.innnerText='No element found on the namespace "'+e+'"!'})}static get observedAttributes(){return["ondemand",_.attributeMap.ns]}});var x=y,$=r(8),C=r(5);const k=class extends x{static from(t,e={},r=!0,n=k){return super.from(t,e,r,n)}constructor(t,e={}){super(t,Object(i._inherit)({},e,k.params))}use(t,...e){return this.useAs(t,"$"+t,...e)}useAs(t,e,...r){var n=C.a.use(t,...r);return this.set(e,n),n}};k.params.drilldown=!0,k.params.observeOnly=!1,k.params.nodeCallback=t=>new $.a(t),k.params.componentCallback=k.from;e.a=k},function(t,e,r){"use strict";var n=r(2),i=r(0),s=r(5);r(1);const a=class extends s.a{select(t){return this.filterCallback((e,r)=>new RegExp(e).test(t),(t,e)=>e.active(!0),(t,e)=>e.active(!1))}filterCallback(t,e,r){var i={},s={};return Object(n._each)(this.getFrames(),(e,r)=>{t(e,r)?i[e]=r:s[e]=r}),Object(n._each)(i,e),Object(n._each)(s,r),i}getFrames(){var t={};return this.keys().forEach(e=>{this.get(e)instanceof l&&(t[e]=this.get(e))}),t}static create(t){var e={};return Object(n._each)(t,(t,r)=>{e[t]=r instanceof l?r:Object(i._isClass)(r)?new r:Object(i._isFunction)(r)?r(match):new l(r||{})}),new a(e)}};var o=a;const c=class extends s.a{constructor(t={},e={}){!t.children||t.children instanceof o||((t=Object(n._copy)(0,t)).children=o.create(t.children)),super(t,e);var r=s.a.use("router"),a=this.get("routePathSlot")||0;const c=(t,e)=>{if(t&&e){var r=Object(i._isNumeric)(a)?e.arr[a]:e.obj[a],s=Object(n._first)(t.select(r));return this.set({activeChild:s,hasActiveChild:!!s})}return this.set({activeChild:void 0,hasActiveChild:!1})};r.observe("path",t=>c(this.get("children"),t),{diff:!0}),this.observe("children",(t,e,n)=>{if((!n.bubbling||!n.bubbling.filter(t=>t.split(".").length>2).length)&&(n.entries.length||n.exits.length))return c(t,r.get("path"))},{allowBubbling:!0,diff:!0}),this.observe(["activeChild","active"],e=>{if(e[0])return e[0].active(t[1])},{diff:!0})}active(t=!0){return this.set("active",t)}};var l=e.a=c},,,function(t,e,r){"use strict";r.r(e);r(6);var n=r(10),i=r(9),s=r(11),a=r(5);a.a.register("router",i.a,!0);a.a.use("router");var o=new s.a({active:!0,content:{title:"This is Home page!"},routePathSlot:2,children:{documentation:{content:{title:"This is documentation page!"},routePathSlot:3,children:{intro:{content:{title:"Welcome to Rosewell!"}}}},download:{content:{title:"This is download page!"}}}});n.a.ready(()=>{n.a.from("#app").bind(o)})}]);
//# sourceMappingURL=test.js.map